(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{283:function(t,a,s){"use strict";s.r(a);var r=s(14),n=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_01-项目介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_01-项目介绍"}},[t._v("#")]),t._v(" 01.项目介绍")]),t._v(" "),a("h3",{attrs:{id:"目标"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("介绍我们要做的项目，为何做，以及怎么做")]),t._v(" "),a("h3",{attrs:{id:"讲解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("黑马头条-数据管理平台：对IT资讯移动网站的数据，进行数据管理")]),t._v(" "),a("p",[t._v("数据管理平台-演示：配套代码在本地运行")]),t._v(" "),a("p",[t._v("移动网站-演示： "),a("a",{attrs:{href:"http://geek.itheima.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://"),a("OutboundLink")],1),a("a",{attrs:{href:"http://geek.itheima.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("geek.itheima.net"),a("OutboundLink")],1),a("a",{attrs:{href:"http://geek.itheima.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("/"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518105910906.png",alt:"image-20230518105910906"}})]),t._v(" "),a("p",[t._v("功能：")]),t._v(" "),a("p",[t._v("1.登录和权限判断")]),t._v(" "),a("p",[t._v("2.查看文章内容列表（筛选，分页）")]),t._v(" "),a("p",[t._v("3.编辑文章（数据回显）")]),t._v(" "),a("p",[t._v("4.删除文章")]),t._v(" "),a("p",[t._v("5.发布文章（图片上传，富文本编辑器）")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518105936866.png",alt:"image-20230518105936866"}})]),t._v(" "),a("h3",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("黑马头条-数据管理平台，是什么样网站，要完成哪些功能？")]),t._v(" "),a("details",[a("summary",[t._v("答案")]),t._v(" "),a("ul",[a("li",[t._v("数据管理网站，登录后对数据进行增删改查")])])])]),t._v(" "),a("li",[a("p",[t._v("数据管理平台，未登录能否管理数据？")]),t._v(" "),a("details",[a("summary",[t._v("答案")]),t._v(" "),a("ul",[a("li",[t._v("不能，数据是公司内部的，需账号登录后管理")])])])])]),t._v(" "),a("h2",{attrs:{id:"_02-项目准备"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_02-项目准备"}},[t._v("#")]),t._v(" 02.项目准备")]),t._v(" "),a("h3",{attrs:{id:"目标-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-2"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("了解项目需要准备哪些内容")]),t._v(" "),a("h3",{attrs:{id:"讲解-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-2"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("技术：")]),t._v(" "),a("p",[t._v("基于 Bootstrap 搭建网站标签和样式")]),t._v(" "),a("p",[t._v("集成 wangEditor 插件实现富文本编辑器")]),t._v(" "),a("p",[t._v("使用原生 JS 完成增删改查等业务")]),t._v(" "),a("p",[t._v("基于 axios 与黑马头条线上接口交互")]),t._v(" "),a("p",[t._v("使用 axios 拦截器进行权限判断")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518110442704.png",alt:"image-20230518110442704"}})]),t._v(" "),a("p",[t._v("项目准备：准备配套的素材代码")]),t._v(" "),a("p",[t._v("包含：html，css，js，静态图片，第三方插件等等")]),t._v(" "),a("p",[t._v("目录管理：建议这样管理，方便查找")]),t._v(" "),a("p",[t._v("assets：资源文件夹（图片，字体等）")]),t._v(" "),a("p",[t._v("lib：资料文件夹（第三方插件，例如：form-serialize）")]),t._v(" "),a("p",[t._v("page：页面文件夹")]),t._v(" "),a("p",[t._v("utils：实用程序文件夹（工具插件）")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518110515767.png",alt:"image-20230518110515767"}})]),t._v(" "),a("h3",{attrs:{id:"小结-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-2"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("为什么要按照一定的结构，管理代码文件？")]),t._v(" "),a("details",[a("summary",[t._v("答案")]),t._v(" "),a("ul",[a("li",[t._v("方便以后的查找和扩展")])])])])]),t._v(" "),a("h2",{attrs:{id:"_03-验证码登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_03-验证码登录"}},[t._v("#")]),t._v(" 03.验证码登录")]),t._v(" "),a("h3",{attrs:{id:"目标-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-3"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("完成验证码登录，后端设置验证码默认为 246810")]),t._v(" "),a("h3",{attrs:{id:"讲解-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-3"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("原因：因为短信接口不是免费的，防止攻击者恶意盗刷")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("p",[t._v("1.在 utils/request.js 配置 axios 请求基地址")]),t._v(" "),a("p",[t._v("作用：提取公共前缀地址，配置后 axios 请求时都会 baseURL + url")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("defaults"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("baseURL "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'http://geek.itheima.net'")]),t._v("\n")])])]),a("p",[t._v("2.收集手机号和验证码数据")]),t._v(" "),a("p",[t._v("3.基于 axios 调用验证码登录接口")]),t._v(" "),a("p",[t._v("4.使用 Bootstrap 的 Alert 警告框反馈结果给用户")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518110606843.png",alt:"image-20230518110606843"}})]),t._v(" "),a("h3",{attrs:{id:"小结-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-3"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_04-验证码登录流程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_04-验证码登录流程"}},[t._v("#")]),t._v(" 04.验证码登录流程")]),t._v(" "),a("h3",{attrs:{id:"目标-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-4"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("了解验证码登录的流程")]),t._v(" "),a("h3",{attrs:{id:"讲解-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-4"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("手机号+验证码，登录流程：")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518110646428.png",alt:"image-20230518110646428"}})]),t._v(" "),a("h3",{attrs:{id:"小结-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-4"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("ol",[a("li",[t._v("请回答验证码登录的完整流程")])]),t._v(" "),a("h2",{attrs:{id:"_05-token-的介绍"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_05-token-的介绍"}},[t._v("#")]),t._v(" 05.token 的介绍")]),t._v(" "),a("h3",{attrs:{id:"目标-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-5"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("了解前后端分离项目中 token 的作用")]),t._v(" "),a("h3",{attrs:{id:"讲解-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-5"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("概念：访问权限的令牌，本质上是一串字符串")]),t._v(" "),a("p",[t._v("创建：正确登录后，由后端签发并返回")]),t._v(" "),a("p",[t._v("作用：判断是否有登录状态等，控制访问权限")]),t._v(" "),a("p",[t._v("注意：前端只能判断 token 有无，而后端才能判断 token 的有效性")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518110744566.png",alt:"image-20230518110744566"}})]),t._v(" "),a("p",[t._v("目标：只有登录状态，才可以访问内容页面")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("p",[t._v("1.在 utils/auth.js 中判断无 token 令牌字符串，则强制跳转到登录页（手动修改地址栏测试）")]),t._v(" "),a("p",[t._v("2.在登录成功后，保存 token 令牌字符串到本地，再跳转到首页（手动修改地址栏测试）")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" token "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'token'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 没有 token 令牌字符串，则强制跳转登录页")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("token"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../login/index.html'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"小结-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-5"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("token 的作用？")]),t._v(" "),a("details",[a("summary",[t._v("答案")]),t._v(" "),a("ul",[a("li",[t._v("判断用户是否有登录状态等")])])])]),t._v(" "),a("li",[a("p",[t._v("token 的注意：")])])]),t._v(" "),a("p",[t._v("前端只能判断 token 的有无")]),t._v(" "),a("p",[t._v("后端通过解密可以提取 token 字符串的原始信息，判断有效性")]),t._v(" "),a("h2",{attrs:{id:"_06-个人信息设置和-axios-请求拦截器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_06-个人信息设置和-axios-请求拦截器"}},[t._v("#")]),t._v(" 06.个人信息设置和 axios 请求拦截器")]),t._v(" "),a("h3",{attrs:{id:"目标-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-6"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("了解 axios 请求拦截器的概念和使用场景")]),t._v(" "),a("h3",{attrs:{id:"讲解-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-6"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("需求：设置用户昵称")]),t._v(" "),a("p",[t._v("语法：axios 可以在 headers 选项传递请求头参数")]),t._v(" "),a("p",[t._v("问题：很多接口，都需要携带 token 令牌字符串")]),t._v(" "),a("p",[t._v("解决：在"),a("a",{attrs:{href:"https://www.axios-http.cn/docs/interceptors",target:"_blank",rel:"noopener noreferrer"}},[t._v("请求拦截器"),a("OutboundLink")],1),t._v("统一设置公共 headers 选项")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518110901334.png",alt:"image-20230518110901334"}})]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518110913008.png",alt:"image-20230518110913008"}})]),t._v(" "),a("p",[t._v("对应代码：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("axios")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'目标资源地址'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("headers")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("Authorization")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Bearer ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("localStorage"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'token'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("interceptors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在发送请求之前做些什么")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" config\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对请求错误做些什么")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("axios")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 个人信息")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("url")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/v1_0/user/profile'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("result")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// result：服务器响应数据对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    \n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("interceptors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("request"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("config")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" token "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'token'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  \n  token "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Authorization "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("Bearer ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("token"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 在发送请求之前做些什么")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" config\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对请求错误做些什么")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"小结-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-6"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("什么是 axios 请求拦截器？")]),t._v(" "),a("details",[a("summary",[t._v("答案")]),t._v(" "),a("ul",[a("li",[t._v("发起请求之前，调用的一个函数，对请求参数进行设置")])])])]),t._v(" "),a("li",[a("p",[t._v("axios 请求拦截器，什么时候使用？")]),t._v(" "),a("details",[a("summary",[t._v("答案")]),t._v(" "),a("ul",[a("li",[t._v("有公共配置和设置时，统一设置在请求拦截器中")])])])])]),t._v(" "),a("h2",{attrs:{id:"_07-axios-响应拦截器和身份验证失败"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_07-axios-响应拦截器和身份验证失败"}},[t._v("#")]),t._v(" 07. axios 响应拦截器和身份验证失败")]),t._v(" "),a("h3",{attrs:{id:"目标-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-7"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("了解 axios 响应拦截器的概念和使用场景，以及身份验证失败的场景流程和判断使用")]),t._v(" "),a("h3",{attrs:{id:"讲解-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-7"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("axios 响应拦截器：响应回到 then/catch 之前，触发的拦截函数，对响应结果统一处理")]),t._v(" "),a("p",[t._v("例如：身份验证失败，统一判断并做处理")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518111044515.png",alt:"image-20230518111044515"}})]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("interceptors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2xx 范围内的状态码都会触发该函数。")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 超出 2xx 范围的状态码都会触发该函数。")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对响应错误做点什么，例如：判断响应状态为 401 代表身份验证失败")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?.")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?.")]),t._v("status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("401")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'登录状态过期，请重新登录'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../login/index.html'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"小结-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-7"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("什么是 axios 响应拦截器？")]),t._v(" "),a("details",[a("summary",[t._v("答案")]),t._v(" "),a("ul",[a("li",[t._v("响应回到 then/catch 之前，触发的拦截函数，对响应结果统一处理")])])])]),t._v(" "),a("li",[a("p",[t._v("axios 响应拦截器，什么时候触发成功/失败的回调函数？")]),t._v(" "),a("details",[a("summary",[t._v("答案")]),t._v(" "),a("ul",[a("li",[t._v("状态为 2xx 触发成功回调，其他则触发失败的回调函数")])])])])]),t._v(" "),a("h2",{attrs:{id:"_08-优化-axios-响应结果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_08-优化-axios-响应结果"}},[t._v("#")]),t._v(" 08.优化 axios 响应结果")]),t._v(" "),a("h3",{attrs:{id:"目标-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-8"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("axios 直接接收服务器返回的响应结果")]),t._v(" "),a("h3",{attrs:{id:"讲解-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-8"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("思路：其实就是在响应拦截器里，response.data 把后台返回的数据直接取出来统一返回给所有使用这个 axios 函数的逻辑页面位置的 then 的形参上")]),t._v(" "),a("p",[t._v("好处：可以让逻辑页面少点一层 data 就能拿到后端返回的真正数据对象")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518111206285.png",alt:"image-20230518111206285"}})]),t._v(" "),a("p",[t._v("对应代码如下：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("interceptors"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("response")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2xx 范围内的状态码都会触发该函数。")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对响应数据做点什么，例如：直接返回服务器的响应结果对象")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" response"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 超出 2xx 范围的状态码都会触发该函数。")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 对响应错误做点什么，例如：判断响应状态为 401 代表身份验证失败")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?.")]),t._v("response"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?.")]),t._v("status "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("401")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("alert")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'登录状态过期，请重新登录'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("location"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("href "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../login/index.html'")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reject")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"小结-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-8"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_09-发布文章-富文本编辑器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_09-发布文章-富文本编辑器"}},[t._v("#")]),t._v(" 09.发布文章-富文本编辑器")]),t._v(" "),a("h3",{attrs:{id:"目标-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-9"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("了解富文本编辑器的概念，以及如何在前端网页中使用")]),t._v(" "),a("h3",{attrs:{id:"讲解-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-9"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("富文本：带样式，多格式的文本，在前端一般使用标签配合内联样式实现")]),t._v(" "),a("p",[t._v("富文本编辑器：用于编写富文本内容的容器")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518111333428.png",alt:"image-20230518111333428"}})]),t._v(" "),a("p",[t._v("目标：发布文章页，富文本编辑器的集成")]),t._v(" "),a("p",[t._v("使用：wangEditor 插件")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.wangeditor.com/v5/getting-started.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("步骤"),a("OutboundLink")],1),t._v("：参考文档")]),t._v(" "),a("p",[t._v("1.引入 CSS 定义样式")]),t._v(" "),a("p",[t._v("2.定义 HTML 结构")]),t._v(" "),a("p",[t._v("3.引入 JS 创建编辑器")]),t._v(" "),a("p",[t._v("4.监听内容改变，保存在隐藏文本域（便于后期收集）")]),t._v(" "),a("h3",{attrs:{id:"小结-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-9"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_10-发布文章-频道列表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-发布文章-频道列表"}},[t._v("#")]),t._v(" 10.发布文章-频道列表")]),t._v(" "),a("h3",{attrs:{id:"目标-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-10"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("展示频道列表，供用户选择")]),t._v(" "),a("h3",{attrs:{id:"讲解-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-10"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("ol",[a("li",[t._v("获取频道列表数据")]),t._v(" "),a("li",[t._v("展示到下拉菜单中")])]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518111430023.png",alt:"image-20230518111430023"}})]),t._v(" "),a("h3",{attrs:{id:"小结-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-10"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_11-发布文章-封面设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-发布文章-封面设置"}},[t._v("#")]),t._v(" 11.发布文章-封面设置")]),t._v(" "),a("h3",{attrs:{id:"目标-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-11"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("文章封面的设置")]),t._v(" "),a("h3",{attrs:{id:"讲解-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-11"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("ol",[a("li",[t._v("准备标签结构和样式")]),t._v(" "),a("li",[t._v("选择文件并保存在 FormData")]),t._v(" "),a("li",[t._v("单独上传图片并得到图片 URL 地址")]),t._v(" "),a("li",[t._v("回显并切换 img 标签展示（隐藏 + 号上传标签）")])]),t._v(" "),a("p",[t._v("注意：图片地址临时存储在 img 标签上，并未和文章关联保存")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518111505259.png",alt:"image-20230518111505259"}})]),t._v(" "),a("h3",{attrs:{id:"小结-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-11"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_12-发布文章-收集并保存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-发布文章-收集并保存"}},[t._v("#")]),t._v(" 12.发布文章-收集并保存")]),t._v(" "),a("h3",{attrs:{id:"目标-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-12"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("收集文章内容，并提交保存")]),t._v(" "),a("h3",{attrs:{id:"讲解-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-12"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("ol",[a("li",[t._v("基于 form-serialize 插件收集表单数据对象")]),t._v(" "),a("li",[t._v("基于 axios 提交到服务器保存")]),t._v(" "),a("li",[t._v("调用 Alert 警告框反馈结果给用户")]),t._v(" "),a("li",[t._v("重置表单并跳转到列表页")])]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518111530578.png",alt:"image-20230518111530578"}})]),t._v(" "),a("h3",{attrs:{id:"小结-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-12"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_13-内容管理-文章列表展示"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_13-内容管理-文章列表展示"}},[t._v("#")]),t._v(" 13.内容管理-文章列表展示")]),t._v(" "),a("h3",{attrs:{id:"目标-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-13"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("获取文章列表并展示")]),t._v(" "),a("h3",{attrs:{id:"讲解-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-13"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("ol",[a("li",[t._v("准备查询参数对象")]),t._v(" "),a("li",[t._v("获取文章列表数据")]),t._v(" "),a("li",[t._v("展示到指定的标签结构中")])]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518111554655.png",alt:"image-20230518111554655"}})]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" queryObj "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("status")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 筛选状态")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("channel_id")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 频道id")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("page")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 当前页码")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("per_page")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 每页条数")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" totalCount "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 总条数")]),t._v("\n")])])]),a("h3",{attrs:{id:"小结-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-13"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_14-内容管理-筛选功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_14-内容管理-筛选功能"}},[t._v("#")]),t._v(" 14.内容管理-筛选功能")]),t._v(" "),a("h3",{attrs:{id:"目标-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-14"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("根据筛选条件，获取匹配数据展示")]),t._v(" "),a("h3",{attrs:{id:"讲解-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-14"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("p",[t._v("1.设置频道列表数据")]),t._v(" "),a("p",[t._v("2.监听筛选条件改变，保存查询信息到查询参数对象")]),t._v(" "),a("p",[t._v("3.点击筛选时，传递查询参数对象到服务器")]),t._v(" "),a("p",[t._v("4.获取匹配数据，覆盖到页面展示")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518111611349.png",alt:"image-20230518111611349"}})]),t._v(" "),a("h3",{attrs:{id:"小结-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-14"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_15-内容管理-分页功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_15-内容管理-分页功能"}},[t._v("#")]),t._v(" 15.内容管理-分页功能")]),t._v(" "),a("h3",{attrs:{id:"目标-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-15"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("完成文章列表，分页管理功能")]),t._v(" "),a("h3",{attrs:{id:"讲解-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-15"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("p",[t._v("1.保存并设置文章总条数")]),t._v(" "),a("p",[t._v("2.点击下一页，做临界值判断，并切换页码参数请求最新数据")]),t._v(" "),a("p",[t._v("3.点击上一页，做临界值判断，并切换页码参数请求最新数据")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518111702356.png",alt:"image-20230518111702356"}})]),t._v(" "),a("h3",{attrs:{id:"小结-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-15"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_16-内容管理-删除功能"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_16-内容管理-删除功能"}},[t._v("#")]),t._v(" 16.内容管理-删除功能")]),t._v(" "),a("h3",{attrs:{id:"目标-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-16"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("完成删除文章功能")]),t._v(" "),a("h3",{attrs:{id:"讲解-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-16"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("ol",[a("li",[t._v("关联文章 id 到删除图标")]),t._v(" "),a("li",[t._v("点击删除时，获取文章 id")]),t._v(" "),a("li",[t._v("调用删除接口，传递文章 id 到服务器")]),t._v(" "),a("li",[t._v("重新获取文章列表，并覆盖展示")])]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518111815340.png",alt:"image-20230518111815340"}})]),t._v(" "),a("h3",{attrs:{id:"小结-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-16"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_17-内容管理-删除最后一条"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_17-内容管理-删除最后一条"}},[t._v("#")]),t._v(" 17.内容管理-删除最后一条")]),t._v(" "),a("h3",{attrs:{id:"目标-17"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-17"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("在删除最后一页，最后一条时有 Bug")]),t._v(" "),a("h3",{attrs:{id:"讲解-17"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-17"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("解决：")]),t._v(" "),a("ol",[a("li",[t._v("删除成功时，判断 DOM 元素只剩一条，让当前页码 page--")]),t._v(" "),a("li",[t._v("注意，当前页码为 1 时不能继续向前翻页")]),t._v(" "),a("li",[t._v("重新设置页码数，获取最新列表展示")])]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518112012528.png",alt:"image-20230518112012528"}})]),t._v(" "),a("h3",{attrs:{id:"小结-17"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-17"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_18-内容管理-编辑文章-回显"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_18-内容管理-编辑文章-回显"}},[t._v("#")]),t._v(" 18.内容管理-编辑文章-回显")]),t._v(" "),a("h3",{attrs:{id:"目标-18"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-18"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("编辑文章时，回显数据到表单")]),t._v(" "),a("h3",{attrs:{id:"讲解-18"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-18"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("ol",[a("li",[t._v("页面跳转传参（URL 查询参数方式）")]),t._v(" "),a("li",[t._v("发布文章页面接收参数判断（共用同一套表单）")]),t._v(" "),a("li",[t._v("修改标题和按钮文字")]),t._v(" "),a("li",[t._v("获取文章详情数据并回显表单")])]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518112036624.png",alt:"image-20230518112036624"}})]),t._v(" "),a("p",[t._v("对应代码：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" params "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("?id=1001&name=xiaoli")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 查询参数字符串 => 查询参数对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("URLSearchParams")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("params"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要遍历使用")]),t._v("\nresult"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" \n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1001 id")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// xiaoli name")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"小结-18"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-18"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_19-内容管理-编辑文章-保存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_19-内容管理-编辑文章-保存"}},[t._v("#")]),t._v(" 19.内容管理-编辑文章-保存")]),t._v(" "),a("h3",{attrs:{id:"目标-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-19"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("确认修改，保存文章到服务器")]),t._v(" "),a("h3",{attrs:{id:"讲解-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-19"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("ol",[a("li",[t._v("判断按钮文字，区分业务（因为共用一套表单）")]),t._v(" "),a("li",[t._v("调用编辑文章接口，保存信息到服务器")]),t._v(" "),a("li",[t._v("基于 Alert 反馈结果消息给用户")])]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518112112709.png",alt:"image-20230518112112709"}})]),t._v(" "),a("h3",{attrs:{id:"小结-19"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-19"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")]),t._v(" "),a("h2",{attrs:{id:"_20-退出登录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_20-退出登录"}},[t._v("#")]),t._v(" 20.退出登录")]),t._v(" "),a("h3",{attrs:{id:"目标-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#目标-20"}},[t._v("#")]),t._v(" 目标")]),t._v(" "),a("p",[t._v("完成退出登录效果")]),t._v(" "),a("h3",{attrs:{id:"讲解-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#讲解-20"}},[t._v("#")]),t._v(" 讲解")]),t._v(" "),a("p",[t._v("步骤：")]),t._v(" "),a("p",[t._v("1.绑定点击事件")]),t._v(" "),a("p",[t._v("2.清空本地缓存，跳转到登录页面")]),t._v(" "),a("p",[a("img",{attrs:{src:"images/image-20230518112137592.png",alt:"image-20230518112137592"}})]),t._v(" "),a("h3",{attrs:{id:"小结-20"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结-20"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("暂无")])])}),[],!1,null,null,null);a.default=n.exports}}]);