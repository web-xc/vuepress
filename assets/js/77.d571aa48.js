(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{351:function(t,e,a){"use strict";a.r(e);var n=a(14),s=Object(n.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("p",[t._v("根据尚硅谷Vue视频的学习代码")]),t._v(" "),e("p",[t._v("学习Vue之前需要学习ECMAScript规范："),e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/ES5_6_7%E8%A7%84%E8%8C%83.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("ES5_6_7规范"),e("OutboundLink")],1)]),t._v(" "),e("h1",{attrs:{id:"第-1-章-vue-核心"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第-1-章-vue-核心"}},[t._v("#")]),t._v(" 第 1 章：Vue 核心")]),t._v(" "),e("h2",{attrs:{id:"_1-1-vue-的基本认识"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-vue-的基本认识"}},[t._v("#")]),t._v(" 1.1. Vue 的基本认识")]),t._v(" "),e("h3",{attrs:{id:"_1-1-1-官网"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-1-官网"}},[t._v("#")]),t._v(" 1.1.1. 官网")]),t._v(" "),e("ol",[e("li",[t._v("英文官网: https://vuejs.org/")]),t._v(" "),e("li",[t._v("中文官网: https://cn.vuejs.org/")])]),t._v(" "),e("h3",{attrs:{id:"_1-1-2-介绍描述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-2-介绍描述"}},[t._v("#")]),t._v(" 1.1.2. 介绍描述")]),t._v(" "),e("ol",[e("li",[t._v("渐进式 JavaScript 框架")]),t._v(" "),e("li",[t._v("作者: 尤雨溪(一位华裔前 Google 工程师)")]),t._v(" "),e("li",[t._v("作用: 动态构建用户界面")])]),t._v(" "),e("h3",{attrs:{id:"_1-1-3-vue-的特点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-3-vue-的特点"}},[t._v("#")]),t._v(" 1.1.3. Vue 的特点")]),t._v(" "),e("ol",[e("li",[t._v("遵循 MVVM 模式")]),t._v(" "),e("li",[t._v("编码简洁, 体积小, 运行效率高, 适合移动/PC 端开发")]),t._v(" "),e("li",[t._v("它本身只关注 UI, 可以轻松引入 vue 插件或其它第三库开发项目")])]),t._v(" "),e("h3",{attrs:{id:"_1-1-4-与其它前端-js-框架的关联"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-4-与其它前端-js-框架的关联"}},[t._v("#")]),t._v(" 1.1.4. 与其它前端 JS 框架的关联")]),t._v(" "),e("ol",[e("li",[t._v("借鉴 angular 的 "),e("strong",[t._v("模板")]),t._v("和 "),e("strong",[t._v("数据绑定")]),t._v("技术")]),t._v(" "),e("li",[t._v("借鉴 react的 "),e("strong",[t._v("组件化")]),t._v("和拟 "),e("strong",[t._v("虚拟 DOM")]),t._v(" 技术")])]),t._v(" "),e("h3",{attrs:{id:"_1-1-5-vue-扩展插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-5-vue-扩展插件"}},[t._v("#")]),t._v(" 1.1.5. Vue 扩展插件")]),t._v(" "),e("ol",[e("li",[t._v("vue-cli: vue 脚手架")]),t._v(" "),e("li",[t._v("vue-resource(axios): ajax 请求")]),t._v(" "),e("li",[t._v("vue-router: 路由")]),t._v(" "),e("li",[t._v("vuex: 状态管理")]),t._v(" "),e("li",[t._v("vue-lazyload: 图片懒加载")]),t._v(" "),e("li",[t._v("vue-scroller: 页面滑动相关")]),t._v(" "),e("li",[t._v("mint-ui: 基于 vue 的 UI 组件库(移动端)")]),t._v(" "),e("li",[t._v("element-ui: 基于 vue 的 UI 组件库(PC 端)")])]),t._v(" "),e("p",[e("strong",[t._v("Code")]),t._v("：https://github.com/wangliu1102/vue-study/tree/master/VueTest")]),t._v(" "),e("h2",{attrs:{id:"_1-2-vue-的基本使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-vue-的基本使用"}},[t._v("#")]),t._v(" 1.2. Vue 的基本使用")]),t._v(" "),e("h3",{attrs:{id:"_1-2-1-效果-01-helloworld-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-1-效果-01-helloworld-test-html"}},[t._v("#")]),t._v(" 1.2.1. 效果 (01_HelloWorld/test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/01_HelloWorld.gif.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/01_HelloWorld.gif.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[e("strong",[t._v("1.2.2. 编码")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>01_HelloWorld</title>\n</head>\n<body>\n\n\x3c!--\n  1. 引入Vue.js\n  2. 创建Vue对象\n    el : 指定根element(选择器)\n    data : 初始化数据(页面可以访问)\n  3. 双向数据绑定 : v-model\n  4. 显示数据 : {{xxx}}\n  5. 理解vue的mvvm实现\n--\x3e\n\n\x3c!--模板--\x3e\n<div id="test">\n  <input type="text" v-model="msg"><br>\x3c!--指令--\x3e\n  <input type="text" v-model="msg">\x3c!--指令--\x3e\n  <p>hello {{msg}}</p>\x3c!--大括号表达式--\x3e\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  const vm = new Vue({ // 配置对象 options\n    // 配置选项(option)\n    el: \'#test\',  // element: 指定用vue来管理页面中的哪个标签区域\n    data: {\n      msg: \'atguigu\'\n    }\n  })\n<\/script>\n\x3c!--\nMVVM:\nmodel:模型，数据对象（data）\nview:视图，模板页面\nviewModel:视图模型（Vue的实例-vm）\n--\x3e\n</body>\n</html>\n')])])]),e("h3",{attrs:{id:"_1-2-3-使用-vue-开发者工具调试"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-3-使用-vue-开发者工具调试"}},[t._v("#")]),t._v(" 1.2.3. 使用 vue 开发者工具调试")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/366028500.png",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/366028500.png",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/472c5af9-b75b-4df1-9279-b9d1ca9a9fe8.png",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/472c5af9-b75b-4df1-9279-b9d1ca9a9fe8.png",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-2-4-理解-vue-的-mvvm"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-4-理解-vue-的-mvvm"}},[t._v("#")]),t._v(" 1.2.4. 理解 Vue 的 MVVM")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/4035bb38-58f7-41b4-babc-40d607a71515.jpg",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/4035bb38-58f7-41b4-babc-40d607a71515.jpg",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])]),t._v(" "),e("h2",{attrs:{id:"_1-3-模板语法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-模板语法"}},[t._v("#")]),t._v(" "),e("strong",[t._v("1.3. 模板语法")])]),t._v(" "),e("h3",{attrs:{id:"_1-3-1-效果-02-模板语法-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-1-效果-02-模板语法-test-html"}},[t._v("#")]),t._v(" 1.3.1. 效果 (02_ 模板语法 /test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/e47788d28203f842cc05cbc0847fada9.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/e47788d28203f842cc05cbc0847fada9.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[e("strong",[t._v("1.3.2. 模板的理解")])]),t._v(" "),e("ol",[e("li",[t._v("动态的 html 页面")]),t._v(" "),e("li",[t._v("包含了一些 JS 语法代码")])]),t._v(" "),e("p",[t._v("a. 双大括号表达式")]),t._v(" "),e("p",[t._v("b. 指令(以 v-开头的自定义标签属性)")]),t._v(" "),e("h3",{attrs:{id:"_1-3-3-双大括号表达式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-3-双大括号表达式"}},[t._v("#")]),t._v(" 1.3.3. 双大括号表达式")]),t._v(" "),e("ol",[e("li",[t._v("语法: "+t._s(t.exp))]),t._v(" "),e("li",[t._v("功能: 向页面输出数据")]),t._v(" "),e("li",[t._v("可以调用对象的方法")])]),t._v(" "),e("h3",{attrs:{id:"_1-3-4-指令一-强制数据绑定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-4-指令一-强制数据绑定"}},[t._v("#")]),t._v(" 1.3.4. 指令一: 强制数据绑定")]),t._v(" "),e("ol",[e("li",[t._v("功能: 指定变化的属性值")]),t._v(" "),e("li",[t._v("完整写法: v-bind:xxx='yyy' //yyy 会作为表达式解析执行")]),t._v(" "),e("li",[t._v("简洁写法: :xxx='yyy'")])]),t._v(" "),e("h3",{attrs:{id:"_1-3-5-指令二-绑定事件监听"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-5-指令二-绑定事件监听"}},[t._v("#")]),t._v(" 1.3.5. 指令二: 绑定事件监听")]),t._v(" "),e("ol",[e("li",[t._v("功能: 绑定指定事件名的回调函数")]),t._v(" "),e("li",[t._v("完整写法:")])]),t._v(" "),e("p",[t._v("v-on:keyup='xxx'")]),t._v(" "),e("p",[t._v("v-on:keyup='xxx(参数)'")]),t._v(" "),e("p",[t._v("v-on:keyup.enter='xxx'")]),t._v(" "),e("ol",[e("li",[t._v("简洁写法:")])]),t._v(" "),e("p",[t._v("@keyup='xxx'")]),t._v(" "),e("p",[t._v("@keyup.enter='xxx'")]),t._v(" "),e("p",[e("strong",[t._v("1.3.6. 编码")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>02_模板语法</title>\n</head>\n<body>\n\x3c!--\n1. 模板的理解:\n  动态的html页面\n  包含了一些JS语法代码\n    大括号表达式\n    指令(以v-开头的自定义标签属性)\n2. 双大括号表达式\n  语法: {{exp}} 或 {{{exp}}}\n  功能: 向页面输出数据\n  可以调用对象的方法\n3. 指令一: 强制数据绑定\n  功能: 指定变化的属性值\n  完整写法:\n    v-bind:xxx=\'yyy\'  //yyy会作为表达式解析执行\n  简洁写法:\n    :xxx=\'yyy\'\n4. 指令二: 绑定事件监听\n  功能: 绑定指定事件名的回调函数\n  完整写法:\n    v-on:click=\'xxx\'\n  简洁写法:\n    @click=\'xxx\'\n--\x3e\n\n<div id="app">\n  <h2>1. 双大括号表达式</h2>\n  <p>{{content}}</p>\n  <p>{{content.toUpperCase()}}</p>\n\n  <h2>2. 指令一: 强制数据绑定</h2>\n  <a href="url">访问指定站点</a><br>\n  <a v-bind:href="url">访问指定站点2</a><br>\n  <a :href="url">访问指定站点2</a><br>\n\n  <h2>3. 指令二: 绑定事件监听</h2>\n  <button v-on:click="test">点我</button>\n  <button @click="test">点我</button>\n\n</div>\n\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  new Vue({\n    el: \'#app\',\n    data: {\n      content: \'NBA I Love This Game\',\n      url: \'http://www.atguigu.com\'\n    },\n    methods: {\n      test () {\n        alert(\'好啊!!!\')\n      }\n    }\n  })\n<\/script>\n</body>\n</html>\n')])])]),e("h2",{attrs:{id:"_1-4-计算属性和监视"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-计算属性和监视"}},[t._v("#")]),t._v(" 1.4. 计算属性和监视")]),t._v(" "),e("h3",{attrs:{id:"_1-4-1-效果-03-计算属性和监视-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-1-效果-03-计算属性和监视-test-html"}},[t._v("#")]),t._v(" 1.4.1. 效果 (03_ 计算属性和监视 /test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/45ea6864b667d83d19d92955ad27636a.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/45ea6864b667d83d19d92955ad27636a.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-4-2-计算属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-2-计算属性"}},[t._v("#")]),t._v(" 1.4.2. 计算属性")]),t._v(" "),e("ol",[e("li",[t._v("在 computed 属性对象中定义计算属性的方法")]),t._v(" "),e("li",[t._v("在页面中使用"+t._s(t.方法名)+"来显示计算的结果")])]),t._v(" "),e("h3",{attrs:{id:"_1-4-3-监视属性"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-3-监视属性"}},[t._v("#")]),t._v(" 1.4.3. 监视属性")]),t._v(" "),e("ol",[e("li",[t._v("通过通过 vm 对象的$watch()或 watch 配置来监视指定的属性")]),t._v(" "),e("li",[t._v("当属性变化时, 回调函数自动调用, 在函数内部进行计算")])]),t._v(" "),e("h3",{attrs:{id:"_1-4-4-计算属性高级"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-4-计算属性高级"}},[t._v("#")]),t._v(" 1.4.4. 计算属性高级")]),t._v(" "),e("ol",[e("li",[t._v("通过 getter/setter 实现对属性数据的显示和监视")]),t._v(" "),e("li",[t._v("计算属性存在缓存, 多次读取只执行一次getter 计算")])]),t._v(" "),e("h3",{attrs:{id:"_1-4-5-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-4-5-编码"}},[t._v("#")]),t._v(" 1.4.5. 编码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>03_计算属性和监视</title>\n</head>\n<body>\n\x3c!--\n1. 计算属性\n  在computed属性对象中定义计算属性的方法\n  在页面中使用{{方法名}}来显示计算的结果\n2. 监视属性:\n  通过vm对象的$watch()或watch配置来监视指定的属性\n  当属性变化时, 回调函数自动调用, 在函数内部进行计算\n3. 计算属性高级:\n  通过getter/setter实现对属性数据的显示和监视\n  计算属性存在缓存, 多次读取只执行一次getter计算\n--\x3e\n<div id="demo">\n  姓: <input type="text" placeholder="First Name" v-model="firstName"><br>\n  名: <input type="text" placeholder="Last Name" v-model="lastName"><br>\n  \x3c!--fullName1是根据fistName和lastName计算产生--\x3e\n  姓名1(单向): <input type="text" placeholder="Full Name1" v-model="fullName1"><br>\n  姓名2(单向): <input type="text" placeholder="Full Name2" v-model="fullName2"><br>\n  姓名3(双向): <input type="text" placeholder="Full Name3" v-model="fullName3"><br>\n\n  <p>{{fullName1}}</p>\n  <p>{{fullName1}}</p>\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  const vm = new Vue({\n    el: \'#demo\',\n    data: {\n      firstName: \'A\',\n      lastName: \'B\',\n       fullName2: \'A-B\'\n    },\n\n    // 计算属性配置: 值为对象\n    computed: {\n      fullName1 () { // 属性的get()\n        console.log(\'fullName1()\', this)\n        return this.firstName + \'-\' + this.lastName\n      },\n\n      fullName3: {\n        // 当获取当前属性值时自动调用, 将返回值(根据相关的其它属性数据)作为属性值\n        get () {\n          console.log(\'fullName3 get()\')\n          return this.firstName + \'-\' + this.lastName\n        },\n        // 当属性值发生了改变时自动调用, 监视当前属性值变化, 同步更新相关的其它属性值\n        set (value) {// fullName3的最新value值  A-B23\n          console.log(\'fullName3 set()\', value)\n          // 更新firstName和lastName\n          const names = value.split(\'-\')\n          this.firstName = names[0]\n          this.lastName = names[1]\n        }\n      }\n    },\n\n    watch: {\n      // 配置监视firstName\n      firstName: function (value) { // 相当于属性的set\n        console.log(\'watch firstName\', value)\n        // 更新fullName2\n        this.fullName2 = value + \'-\' + this.lastName\n      }\n    }\n  })\n\n  // 监视lastName\n  vm.$watch(\'lastName\', function (value) {\n    console.log(\'$watch lastName\', value)\n    // 更新fullName2\n    this.fullName2 = this.firstName + \'-\' + value\n  })\n\n<\/script>\n</body>\n</html>\nwatch: { // 监视\n      todos: {\n        deep: true, // 深度监视\n        handler: function (value) {\n          // 将todos最新的值的json数据，保存到localStorage\n          window.localStorage.setItem(\'todos_key\', JSON.stringify(value))\n        }\n      }\n    }\n')])])]),e("h2",{attrs:{id:"_1-5-class-与-与-style-绑定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-class-与-与-style-绑定"}},[t._v("#")]),t._v(" 1.5. class 与 与 style 绑定")]),t._v(" "),e("h3",{attrs:{id:"_1-5-1-效果-04-class-与-style-绑定-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-1-效果-04-class-与-style-绑定-test-html"}},[t._v("#")]),t._v(" 1.5.1. 效果 (04_class 与 style 绑定/test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/3bf1886af59e0e35440c4e3c23c2692e.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/3bf1886af59e0e35440c4e3c23c2692e.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-5-2-理解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-2-理解"}},[t._v("#")]),t._v(" 1.5.2. 理解")]),t._v(" "),e("ol",[e("li",[t._v("在应用界面中, 某个(些)元素的样式是变化的")]),t._v(" "),e("li",[t._v("class/style 绑定就是专门用来实现动态样式效果的技术")])]),t._v(" "),e("h3",{attrs:{id:"_1-5-3-class-绑定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-3-class-绑定"}},[t._v("#")]),t._v(" 1.5.3. class 绑定")]),t._v(" "),e("ol",[e("li",[t._v(":class='xxx'")]),t._v(" "),e("li",[t._v("表达式是字符串: 'classA'")]),t._v(" "),e("li",[t._v("表达式是对象: {classA:isA, classB: isB}")]),t._v(" "),e("li",[t._v("表达式是数组: ['classA', 'classB']")])]),t._v(" "),e("h3",{attrs:{id:"_1-5-4-style-绑定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-4-style-绑定"}},[t._v("#")]),t._v(" 1.5.4. style 绑定")]),t._v(" "),e("ol",[e("li",[t._v(":style=\"{ color: activeColor, fontSize: fontSize + 'px' }\"")]),t._v(" "),e("li",[t._v("其中 activeColor/fontSize 是 data 属性")])]),t._v(" "),e("h3",{attrs:{id:"_1-5-5-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-5-5-编码"}},[t._v("#")]),t._v(" 1.5.5. 编码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <title>04_class与style绑定</title>\n  <style>\n    .classA {\n      color: red;\n    }\n    .classB {\n      background: blue;\n    }\n    .classC {\n      font-size: 20px;\n    }\n  </style>\n</head>\n<body>\n\n\x3c!--\n1. 理解\n  在应用界面中, 某个(些)元素的样式是变化的\n  class/style绑定就是专门用来实现动态样式效果的技术\n2. class绑定: :class='xxx'\n  xxx是字符串\n  xxx是对象\n  xxx是数组\n3. style绑定\n  :style=\"{ color: activeColor, fontSize: fontSize + 'px' }\"\n  其中activeColor/fontSize是data属性\n--\x3e\n\n<div id=\"demo\">\n  <h2>1. class绑定: :class='xxx'</h2>\n  <p :class=\"myClass\">xxx是字符串</p>\n  <p :class=\"{classA: hasClassA, classB: hasClassB}\">xxx是对象</p>\n  <p :class=\"['classA', 'classB']\">xxx是数组</p>\n\n  <h2>2. style绑定</h2>\n  <p :style=\"{color:activeColor, fontSize}\">:style=\"{ color: activeColor, fontSize: fontSize + 'px' }\"</p>\n\n  <button @click=\"update\">更新</button>\n\n</div>\n\n<script type=\"text/javascript\" src=\"../js/vue.js\"><\/script>\n<script type=\"text/javascript\">\n  new Vue({\n    el: '#demo',\n    data: {\n      myClass: 'classA',\n      hasClassA: true,\n      hasClassB: false,\n      activeColor: 'red',\n      fontSize: '20px'\n    },\n\n    methods: {\n      update () {\n        this.myClass = 'classB'\n        this.hasClassA = !this.hasClassA\n        this.hasClassB = !this.hasClassB\n        this.activeColor = 'yellow'\n        this.fontSize = '30px'\n      }\n    }\n  })\n<\/script>\n</body>\n</html>\n")])])]),e("h2",{attrs:{id:"_1-6-条件渲染"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-条件渲染"}},[t._v("#")]),t._v(" 1.6. 条件渲染")]),t._v(" "),e("h3",{attrs:{id:"_1-6-1-效果-05-条件渲染-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-1-效果-05-条件渲染-test-html"}},[t._v("#")]),t._v(" 1.6.1. 效果 (05_ 条件渲染/test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/b55b4fb0ed8deb4b1ecc6e0d7e82576a.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/b55b4fb0ed8deb4b1ecc6e0d7e82576a.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-6-2-条件渲染指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-2-条件渲染指令"}},[t._v("#")]),t._v(" 1.6.2. 条件渲染指令")]),t._v(" "),e("ol",[e("li",[t._v("v-if 与 v-else")]),t._v(" "),e("li",[t._v("v-show")])]),t._v(" "),e("h3",{attrs:{id:"_1-6-3-比较-v-if-与-v-show"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-3-比较-v-if-与-v-show"}},[t._v("#")]),t._v(" 1.6.3. 比较 v-if 与 v-show")]),t._v(" "),e("ol",[e("li",[t._v("如果需要频繁切换 v-show 较好")]),t._v(" "),e("li",[t._v("当条件不成立时, v-if 的所有子节点不会解析(项目中使用)")])]),t._v(" "),e("h3",{attrs:{id:"_1-6-4-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-6-4-编码"}},[t._v("#")]),t._v(" 1.6.4. 编码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>08_条件渲染</title>\n</head>\n<body>\n\x3c!--\n1. 条件渲染指令\n  v-if\n  v-else\n  v-show\n2. 比较v-if与v-show\n  如果需要频繁切换 v-show 较好\n--\x3e\n\n<div id="demo">\n  <p v-if="ok">表白成功</p>\n  <p v-else>表白失败</p>\n\n  <hr>\n  <p v-show="ok">求婚成功</p>\n  <p v-show="!ok">求婚失败</p>\n\n  <button @click="ok=!ok">切换</button>\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  new Vue({\n    el: \'#demo\',\n    data: {\n      ok: true,\n    }\n  })\n<\/script>\n</body>\n</html>\n')])])]),e("h2",{attrs:{id:"_1-7-列表渲染"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-列表渲染"}},[t._v("#")]),t._v(" 1.7. 列表渲染")]),t._v(" "),e("h3",{attrs:{id:"_1-7-1-效果-06-列表渲染-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-1-效果-06-列表渲染-test-html"}},[t._v("#")]),t._v(" 1.7.1. 效果 (06_ 列表渲染/test.html)")]),t._v(" "),e("h3",{attrs:{id:"-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#-2"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/71883ed28e889b312425bf2c0edb1b47.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/71883ed28e889b312425bf2c0edb1b47.gif",alt:"img"}}),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/00bf0d57da7db3e2f8fc37039aa76194.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/00bf0d57da7db3e2f8fc37039aa76194.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("ol",[e("li",[t._v("列表显示指令")])]),t._v(" "),e("p",[t._v("数组: v-for / index")]),t._v(" "),e("p",[t._v("对象: v-for / key")]),t._v(" "),e("ol",[e("li",[t._v("列表的更新显示")])]),t._v(" "),e("p",[t._v("删除 item")]),t._v(" "),e("p",[t._v("替换 item")]),t._v(" "),e("ol",[e("li",[t._v("列表的高级处理")])]),t._v(" "),e("p",[t._v("列表过滤")]),t._v(" "),e("p",[t._v("列表排序")]),t._v(" "),e("h3",{attrs:{id:"_1-7-2-编码-1"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-2-编码-1"}},[t._v("#")]),t._v(" 1.7.2. 编码 1")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>06_列表渲染</title>\n</head>\n<body>\n\n\x3c!--\n1. 列表显示\n  数组: v-for / index\n  对象: v-for / key\n2. 列表的更新显示\n  删除item\n  替换item\n--\x3e\n\n<div id="demo">\n  <h2>测试: v-for 遍历数组</h2>\n  <ul>\n    <li v-for="(p, index) in persons" :key="index">\n      {{index}}--{{p.name}}--{{p.age}}\n      --<button @click="deleteP(index)">删除</button>\n      --<button @click="updateP(index, {name:\'Cat\', age: 16})">更新</button>\n    </li>\n  </ul>\n  <button @click="addP({name: \'xfzhang\', age: 18})">添加</button>\n\n  <h2>测试: v-for 遍历对象</h2>\n\n  <ul>\n    <li v-for="(item, key) in persons[1]" :key="key">{{key}}={{item}}</li>\n  </ul>\n\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  new Vue({\n    el: \'#demo\',\n    data: {\n      persons: [\n        {name: \'Tom\', age:18},\n        {name: \'Jack\', age:17},\n        {name: \'Bob\', age:19},\n        {name: \'Mary\', age:16}\n      ]\n    },\n\n    methods: {\n      deleteP (index) {\n        this.persons.splice(index, 1) // 调用了不是原生数组的splice(), 而是一个变异(重写)方法\n              // 1. 调用原生的数组的对应方法\n              // 2. 更新界面\n      },\n\n      updateP (index, newP) {\n        console.log(\'updateP\', index, newP)\n        // this.persons[index] = newP  // vue根本就不知道\n        this.persons.splice(index, 1, newP)\n        // this.persons = []\n      },\n\n      addP (newP) {\n        this.persons.push(newP)\n      }\n    }\n  })\n<\/script>\n</body>\n</html>\n')])])]),e("h3",{attrs:{id:"_1-7-3-编码-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-7-3-编码-2"}},[t._v("#")]),t._v(" 1.7.3. 编码 2")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>06_列表渲染_过滤与排序</title>\n</head>\n<body>\n\x3c!--\n1. 列表过滤\n2. 列表排序\n--\x3e\n\n<div id="demo">\n  <input type="text" v-model="searchName">\n  <ul>\n    <li v-for="(p, index) in filterPersons" :key="index">\n      {{index}}--{{p.name}}--{{p.age}}\n    </li>\n  </ul>\n  <div>\n    <button @click="setOrderType(2)">年龄升序</button>\n    <button @click="setOrderType(1)">年龄降序</button>\n    <button @click="setOrderType(0)">原本顺序</button>\n  </div>\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  new Vue({\n    el: \'#demo\',\n    data: {\n      searchName: \'\',\n      orderType: 0, // 0代表不排序, 1代表降序, 2代表升序\n      persons: [\n        {name: \'Tom\', age:18},\n        {name: \'Jack\', age:17},\n        {name: \'Bob\', age:19},\n        {name: \'Mary\', age:16}\n      ]\n    },\n\n    computed: {\n      filterPersons () {\n//        debugger\n        // 取出相关数据\n        const {searchName, persons, orderType} = this\n        let arr = [...persons]\n        // 过滤数组\n        if(searchName.trim()) {\n          arr = persons.filter(p => p.name.indexOf(searchName)!==-1)\n        }\n        // 排序\n        if(orderType) {\n          arr.sort(function (p1, p2) {\n            if(orderType===1) { // 降序\n              return p2.age-p1.age\n            } else { // 升序\n              return p1.age-p2.age\n            }\n\n          })\n        }\n        return arr\n      }\n    },\n\n    methods: {\n      setOrderType (orderType) {\n        this.orderType = orderType\n      }\n    }\n  })\n<\/script>\n</body>\n</html>\n')])])]),e("h2",{attrs:{id:"_1-8-事件处理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-事件处理"}},[t._v("#")]),t._v(" 1.8. 事件处理")]),t._v(" "),e("h3",{attrs:{id:"_1-8-1-效果-07-事件处理-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-1-效果-07-事件处理-test-html"}},[t._v("#")]),t._v(" 1.8.1. 效果 (07_ 事件处理/test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/2662d4c7b4197fd41ccce625a8bd58af.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/2662d4c7b4197fd41ccce625a8bd58af.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-8-2-绑定监听"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-2-绑定监听"}},[t._v("#")]),t._v(" 1.8.2. 绑定监听:")]),t._v(" "),e("ol",[e("li",[t._v('v-on:xxx="fun"')]),t._v(" "),e("li",[t._v('@xxx="fun"')]),t._v(" "),e("li",[t._v('@xxx="fun(参数)"')]),t._v(" "),e("li",[t._v("默认事件形参: event")]),t._v(" "),e("li",[t._v("隐含属性对象: $event")])]),t._v(" "),e("h3",{attrs:{id:"_1-8-3-事件修饰符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-3-事件修饰符"}},[t._v("#")]),t._v(" 1.8.3. 事件修饰符")]),t._v(" "),e("ol",[e("li",[t._v(".prevent : 阻止事件的默认行为 event.preventDefault()")]),t._v(" "),e("li",[t._v(".stop : 停止事件冒泡 event.stopPropagation()")])]),t._v(" "),e("h3",{attrs:{id:"_1-8-4-按键修饰符"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-4-按键修饰符"}},[t._v("#")]),t._v(" 1.8.4. 按键修饰符")]),t._v(" "),e("ol",[e("li",[t._v(".keycode : 操作的是某个 keycode 值的键")]),t._v(" "),e("li",[t._v(".keyName : 操作的某个按键名的键(少部分)")])]),t._v(" "),e("h3",{attrs:{id:"_1-8-5-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-8-5-编码"}},[t._v("#")]),t._v(" 1.8.5. 编码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>07_事件处理</title>\n</head>\n<body>\n\x3c!--\n1. 绑定监听:\n  v-on:xxx="fun"\n  @xxx="fun"\n  @xxx="fun(参数)"\n  默认事件形参: event\n  隐含属性对象: $event\n2. 事件修饰符:\n  .prevent : 阻止事件的默认行为 event.preventDefault()\n  .stop : 停止事件冒泡 event.stopPropagation()\n3. 按键修饰符\n  .keycode : 操作的是某个keycode值的健\n  .enter : 操作的是enter键\n--\x3e\n\n<div id="example">\n\n  <h2>1. 绑定监听</h2>\n  <button @click="test1">test1</button>\n  <button @click="test2(\'abc\')">test2</button>\n  <button @click="test3(\'abcd\', $event)">test3</button>\n\n  <h2>2. 事件修饰符</h2>\n  <a href="http://www.baidu.com" @click.prevent="test4">百度一下</a>\n  <div style="width: 200px;height: 200px;background: red" @click="test5">\n    <div style="width: 100px;height: 100px;background: blue" @click.stop="test6"></div>\n  </div>\n\n  <h2>3. 按键修饰符</h2>\n  <input type="text" @keyup.13="test7">\n  <input type="text" @keyup.enter="test7">\n\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  new Vue({\n    el: \'#example\',\n    data: {\n\n    },\n    methods: {\n      test1(event) {\n        alert(event.target.innerHTML)\n      },\n      test2 (msg) {\n        alert(msg)\n      },\n      test3 (msg, event) {\n        alert(msg+\'---\'+event.target.textContent)\n      },\n\n      test4 () {\n        alert(\'点击了链接\')\n      },\n\n      test5 () {\n        alert(\'out\')\n      },\n      test6 () {\n        alert(\'inner\')\n      },\n\n      test7 (event) {\n        console.log(event.keyCode)\n        alert(event.target.value)\n      }\n    }\n  })\n<\/script>\n</body>\n</html>\n')])])]),e("h2",{attrs:{id:"_1-9-表单输入绑定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-表单输入绑定"}},[t._v("#")]),t._v(" 1.9. 表单输入绑定")]),t._v(" "),e("h3",{attrs:{id:"_1-9-1-效果-08-表单输入绑定-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-1-效果-08-表单输入绑定-test-html"}},[t._v("#")]),t._v(" 1.9.1. 效果 (08_ 表单输入绑定/test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/0581c64e45f4feadbbf43f88711bc64c.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/0581c64e45f4feadbbf43f88711bc64c.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-9-2-使用-v-model-对表单数据自动收集"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-2-使用-v-model-对表单数据自动收集"}},[t._v("#")]),t._v(" 1.9.2. 使用 v-model 对表单数据自动收集")]),t._v(" "),e("ol",[e("li",[t._v("text/textarea")]),t._v(" "),e("li",[t._v("checkbox")]),t._v(" "),e("li",[t._v("radio")]),t._v(" "),e("li",[t._v("select")])]),t._v(" "),e("h3",{attrs:{id:"_1-9-3-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-9-3-编码"}},[t._v("#")]),t._v(" 1.9.3. 编码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>08_表单输入绑定</title>\n</head>\n<body>\n\x3c!--\n1. 使用v-model(双向数据绑定)自动收集数据\n  text/textarea\n  checkbox\n  radio\n  select\n--\x3e\n<div id="demo">\n  <form action="/xxx" @submit.prevent="handleSubmit">\n    <span>用户名: </span>\n    <input type="text" v-model="username"><br>\n\n    <span>密码: </span>\n    <input type="password" v-model="pwd"><br>\n\n    <span>性别: </span>\n    <input type="radio" id="female" value="女" v-model="sex">\n    <label for="female">女</label>\n    <input type="radio" id="male" value="男" v-model="sex">\n    <label for="male">男</label><br>\n\n    <span>爱好: </span>\n    <input type="checkbox" id="basket" value="basket" v-model="likes">\n    <label for="basket">篮球</label>\n    <input type="checkbox" id="foot" value="foot" v-model="likes">\n    <label for="foot">足球</label>\n    <input type="checkbox" id="pingpang" value="pingpang" v-model="likes">\n    <label for="pingpang">乒乓</label><br>\n\n    <span>城市: </span>\n    <select v-model="cityId">\n      <option value="">未选择</option>\n      <option :value="city.id" v-for="(city, index) in allCitys" :key="city.id">{{city.name}}</option>\n    </select><br>\n    <span>介绍: </span>\n    <textarea rows="10" v-model="info"></textarea><br><br>\n\n    <input type="submit" value="注册">\n  </form>\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  new Vue({\n    el: \'#demo\',\n    data: {\n      username: \'\',\n      pwd: \'\',\n      sex: \'男\',\n      likes: [\'foot\'],\n      allCitys: [{id: 1, name: \'BJ\'}, {id: 2, name: \'SS\'}, {id: 3, name: \'SZ\'}],\n      cityId: \'2\',\n      info: \'\'\n    },\n    methods: {\n      handleSubmit () {\n        console.log(this.username, this.pwd, this.sex, this.likes, this.cityId, this.info)\n        alert(\'提交注册的ajax请求\')\n      }\n    }\n  })\n<\/script>\n</body>\n</html>\n')])])]),e("h2",{attrs:{id:"_1-10-vue-实例生命周期"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-vue-实例生命周期"}},[t._v("#")]),t._v(" 1.10. Vue 实例生命周期")]),t._v(" "),e("h3",{attrs:{id:"_1-10-1-效果-09-vue-实例-生命周期-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-1-效果-09-vue-实例-生命周期-test-html"}},[t._v("#")]),t._v(" 1.10.1. 效果 (09_Vue 实例_ 生命周期/test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/4c86559d4c91c0704fb740a8981a2462.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/4c86559d4c91c0704fb740a8981a2462.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/22a855650e82aee151e546e4afc7a13a.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/22a855650e82aee151e546e4afc7a13a.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-10-2-生命周期流程图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-2-生命周期流程图"}},[t._v("#")]),t._v(" 1.10.2. 生命周期流程图")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/0.39780699380407547.png",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/0.39780699380407547.png",alt:"Vue 实例生命周期"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[e("strong",[t._v("1.10.3. vue 生命周期分析")])]),t._v(" "),e("ol",[e("li",[t._v("初始化显示")])]),t._v(" "),e("p",[t._v("* beforeCreate()")]),t._v(" "),e("p",[t._v("* created()")]),t._v(" "),e("p",[t._v("* beforeMount()")]),t._v(" "),e("p",[t._v("* mounted()")]),t._v(" "),e("ol",[e("li",[t._v("更新状态: this.xxx = value")])]),t._v(" "),e("p",[t._v("* beforeUpdate()")]),t._v(" "),e("p",[t._v("* updated()")]),t._v(" "),e("ol",[e("li",[t._v("销毁 vue 实例: vm.$destory()")])]),t._v(" "),e("p",[t._v("* beforeDestory()")]),t._v(" "),e("p",[t._v("* destoryed()")]),t._v(" "),e("h3",{attrs:{id:"_1-10-4-常用的生命周期方法"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-4-常用的生命周期方法"}},[t._v("#")]),t._v(" 1.10.4. 常用的生命周期方法")]),t._v(" "),e("ol",[e("li",[t._v("created()/mounted(): 发送 ajax 请求, 启动定时器等异步任务")]),t._v(" "),e("li",[t._v("beforeDestory(): 做收尾工作, 如: 清除定时器")])]),t._v(" "),e("h3",{attrs:{id:"_1-10-5-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-10-5-编码"}},[t._v("#")]),t._v(" 1.10.5. 编码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <title>09_Vue实例_生命周期</title>\n</head>\n<body>\n\x3c!--\n1. vue对象的生命周期\n  1). 初始化显示\n    * beforeCreate()\n    * created()\n    * beforeMount()\n    * mounted()\n  2). 更新状态\n    * beforeUpdate()\n    * updated()\n  3). 销毁vue实例: vm.$destory()\n    * beforeDestory()\n    * destoryed()\n2. 常用的生命周期方法\n  created()/mounted(): 发送ajax请求, 启动定时器等异步任务\n  beforeDestory(): 做收尾工作, 如: 清除定时器\n--\x3e\n\n<div id=\"test\">\n  <button @click=\"destroyVue\">destory vue</button>\n  <p v-if=\"isShow\">尚硅谷IT教育</p>\n</div>\n\n<script type=\"text/javascript\" src=\"../js/vue.js\"><\/script>\n<script type=\"text/javascript\">\n  new Vue({\n    el: '#test',\n    data: {\n      isShow: true\n    },\n\n    beforeCreate() {\n      console.log('beforeCreate()')\n    },\n\n    created() {\n      console.log('created()')\n    },\n\n    beforeMount() {\n      console.log('beforeMount()')\n    },\n\n    mounted () { // 初始化显示后立即调用\n      console.log('mounted()')\n      // 执行异步任务\n      this.intervalId = setInterval(() => {\n        console.log('-----')\n        this.isShow = !this.isShow\n      }, 1000)\n    },\n\n\n    beforeUpdate() {\n      console.log('beforeUpdate()')\n    },\n    updated () {\n      console.log('updated()')\n    },\n\n\n    beforeDestroy() {\n      console.log('beforeDestroy()')\n      // 执行收尾的工作\n      clearInterval(this.intervalId)\n    },\n\n    destroyed() {\n      console.log('destroyed()')\n    },\n\n    methods: {\n      destroyVue () {\n        this.$destroy()\n      }\n    }\n  })\n\n\n<\/script>\n</body>\n</html>\n")])])]),e("h2",{attrs:{id:"_1-11-过渡-动画"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-过渡-动画"}},[t._v("#")]),t._v(" 1.11. 过渡& 动画")]),t._v(" "),e("h3",{attrs:{id:"_1-11-1-效果-10-过渡-动画-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-1-效果-10-过渡-动画-test-html"}},[t._v("#")]),t._v(" 1.11.1.效果 (10_ 过渡& 动画/test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/3c17c445f03dd4ca529d32de614f2434.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/3c17c445f03dd4ca529d32de614f2434.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/18a79d1cbdfcce45c1928e51a6dd6a03.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/18a79d1cbdfcce45c1928e51a6dd6a03.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-11-2-vue-动画的理解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-2-vue-动画的理解"}},[t._v("#")]),t._v(" 1.11.2. vue 动画的理解")]),t._v(" "),e("ol",[e("li",[t._v("操作 css 的 trasition 或 animation")]),t._v(" "),e("li",[t._v("vue 会给目标元素添加/移除特定的 class")]),t._v(" "),e("li",[t._v("过渡的相关类名")])]),t._v(" "),e("p",[t._v("xxx-enter-active: 指定显示的 transition")]),t._v(" "),e("p",[t._v("xxx-leave-active: 指定隐藏的 transition")]),t._v(" "),e("p",[t._v("xxx-enter/xxx-leave-to: 指定隐藏时的样式")]),t._v(" "),e("h3",{attrs:{id:"_1-11-3-基本过渡动画的编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-3-基本过渡动画的编码"}},[t._v("#")]),t._v(" 1.11.3. 基本过渡动画的编码")]),t._v(" "),e("ol",[e("li",[t._v("在目标元素外包裹")]),t._v(" "),e("li",[t._v("定义 class 样式")])]),t._v(" "),e("p",[t._v("指定过渡样式: transition")]),t._v(" "),e("p",[t._v("指定隐藏时的样式: opacity/其它")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/74dbd92b-f3b3-42b3-b80e-7bdc6586d271.png",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/74dbd92b-f3b3-42b3-b80e-7bdc6586d271.png",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[e("strong",[t._v("1.11.4. 编码 1")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>10_过渡&动画1</title>\n  <style>\n    /*指定过渡样式*/\n    .xxx-enter-active, .xxx-leave-active {\n      transition: opacity 1s\n    }\n    /*指定隐藏时的样式*/\n    .xxx-enter, .xxx-leave-to {\n      opacity: 0;\n    }\n\n\n    .move-enter-active {\n      transition: all 1s\n    }\n\n    .move-leave-active {\n      transition: all 3s\n    }\n\n    .move-enter, .move-leave-to {\n      opacity: 0;\n      transform: translateX(20px)\n    }\n  </style>\n</head>\n<body>\n\x3c!--\n1. vue动画的理解\n  操作css的trasition或animation\n  vue会给目标元素添加/移除特定的class\n2. 基本过渡动画的编码\n  1). 在目标元素外包裹<transition name="xxx">\n  2). 定义class样式\n    1>. 指定过渡样式: transition\n    2>. 指定隐藏时的样式: opacity/其它\n3. 过渡的类名\n  xxx-enter-active: 指定显示的transition\n  xxx-leave-active: 指定隐藏的transition\n  xxx-enter: 指定隐藏时的样式\n--\x3e\n\n\n\n<div id="demo">\n  <button @click="show = !show">Toggle</button>\n  <transition name="xxx">\n    <p v-show="show">hello</p>\n  </transition>\n</div>\n\n<hr>\n<div id="demo2">\n  <button @click="show = !show">Toggle2</button>\n  <transition name="move">\n    <p v-show="show">hello</p>\n  </transition>\n</div>\n\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  new Vue({\n    el: \'#demo\',\n    data: {\n      show: true\n    }\n  })\n\n  new Vue({\n    el: \'#demo2\',\n    data: {\n      show: true\n    }\n  })\n\n<\/script>\n</body>\n</html>\n')])])]),e("h3",{attrs:{id:"_1-11-5-编码-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-11-5-编码-2"}},[t._v("#")]),t._v(" 1.11.5. 编码 2")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>10_过渡&动画2</title>\n  <style>\n    .bounce-enter-active {\n      animation: bounce-in .5s;\n    }\n    .bounce-leave-active {\n      animation: bounce-in .5s reverse;\n    }\n    @keyframes bounce-in {\n      0% {\n        transform: scale(0);\n      }\n      50% {\n        transform: scale(1.5);\n      }\n      100% {\n        transform: scale(1);\n      }\n    }\n  </style>\n</head>\n<body>\n\n<div id="example-2">\n  <button @click="show = !show">Toggle show</button>\n  <br>\n  <transition name="bounce">\n    <p v-if="show" style="display: inline-block">Lorem</p>\n  </transition>\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script>\n  new Vue({\n    el: \'#example-2\',\n    data: {\n      show: true\n    }\n  })\n<\/script>\n</body>\n</html>\n')])])]),e("h2",{attrs:{id:"_1-12-过滤器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-12-过滤器"}},[t._v("#")]),t._v(" 1.12. 过滤器")]),t._v(" "),e("h3",{attrs:{id:"_1-12-1-效果-11-过滤器-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-12-1-效果-11-过滤器-test-html"}},[t._v("#")]),t._v(" 1.12.1. 效果 (11_ 过滤器/test.html)"),e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/0f4b7e50fd0599724e73746f27ab9e68.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/0f4b7e50fd0599724e73746f27ab9e68.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-12-2-理解过滤器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-12-2-理解过滤器"}},[t._v("#")]),t._v(" 1.12.2. 理解过滤器")]),t._v(" "),e("ol",[e("li",[t._v("功能: 对要显示的数据进行特定格式化后再显示")]),t._v(" "),e("li",[t._v("注意: 并没有改变原本的数据, 可是产生新的对应的数据")])]),t._v(" "),e("h3",{attrs:{id:"_1-12-3-定义和使用过滤器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-12-3-定义和使用过滤器"}},[t._v("#")]),t._v(" 1.12.3. 定义和使用过滤器")]),t._v(" "),e("ol",[e("li",[t._v("定义过滤器")])]),t._v(" "),e("p",[t._v("Vue.filter(filterName, function(value[,arg1,arg2,...]){")]),t._v(" "),e("p",[t._v("// 进行一定的数据处理")]),t._v(" "),e("p",[t._v("return newValue")]),t._v(" "),e("p",[t._v("})")]),t._v(" "),e("ol",[e("li",[t._v("使用过滤器")])]),t._v(" "),e("p",[t._v(t._s(t._f("filterName")(t.myData)))]),t._v(" "),e("p",[t._v(t._s(t._f("filterName")(t.myData,t.arg)))]),t._v(" "),e("h3",{attrs:{id:"_1-12-4-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-12-4-编码"}},[t._v("#")]),t._v(" 1.12.4. 编码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>11_过滤器</title>\n</head>\n<body>\n\x3c!--\n1. 理解过滤器\n  功能: 对要显示的数据进行特定格式化后再显示\n  注意: 并没有改变原本的数据, 可是产生新的对应的数据\n2. 编码\n  1). 定义过滤器\n    Vue.filter(filterName, function(value[,arg1,arg2,...]){\n      // 进行一定的数据处理\n      return newValue\n    })\n  2). 使用过滤器\n    <div>{{myData | filterName}}</div>\n    <div>{{myData | filterName(arg)}}</div>\n--\x3e\n\x3c!--需求: 对当前时间进行指定格式显示--\x3e\n<div id="test">\n  <h2>显示格式化的日期时间</h2>\n  <p>{{time}}</p>\n  <p>最完整的: {{time | dateString}}</p>\n  <p>年月日: {{time | dateString(\'YYYY-MM-DD\')}}</p>\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript" src="https://cdn.bootcss.com/moment.js/2.22.1/moment.js"><\/script>\n<script>\n  // 定义过滤器\n  Vue.filter(\'dateString\', function (value, format=\'YYYY-MM-DD HH:mm:ss\') {\n\n    return moment(value).format(format);\n  })\n\n\n  new Vue({\n    el: \'#test\',\n    data: {\n      time: new Date()\n    },\n    mounted () {\n      setInterval(() => {\n        this.time = new Date()\n      }, 1000)\n    }\n  })\n<\/script>\n</body>\n</html>\n')])])]),e("h2",{attrs:{id:"_1-13-内置指令与自定义指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-13-内置指令与自定义指令"}},[t._v("#")]),t._v(" 1.13. 内置指令与自定义指令")]),t._v(" "),e("h3",{attrs:{id:"_1-13-1-效果-12-指令-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-13-1-效果-12-指令-test-html"}},[t._v("#")]),t._v(" 1.13.1. 效果 (12_ 指令/test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/db5597fed9b75ba9a5b8c550c0dd0f35.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/db5597fed9b75ba9a5b8c550c0dd0f35.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-13-2-常用内置指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-13-2-常用内置指令"}},[t._v("#")]),t._v(" 1.13.2. 常用内置指令")]),t._v(" "),e("ol",[e("li",[t._v("v:text : 更新元素的 textContent")]),t._v(" "),e("li",[t._v("v-html: 更新元素的 innerHTML")]),t._v(" "),e("li",[t._v("v-if :如果为 true, 当前标签才会输出到页面")]),t._v(" "),e("li",[t._v("v-else:如果为 false, 当前标签才会输出到页面")]),t._v(" "),e("li",[t._v("v-show: 通过控制 display 样式来控制显示/隐藏")]),t._v(" "),e("li",[t._v("v-for : 遍历数组/对象")]),t._v(" "),e("li",[t._v("v-on : 绑定事件监听, 一般简写为@")]),t._v(" "),e("li",[t._v("v-bind : 强制绑定解析表达式, 可以省略 v-bind")]),t._v(" "),e("li",[t._v("v-model : 双向数据绑定")]),t._v(" "),e("li",[t._v("ref : 指定唯一标识, vue 对象通过$els 属性访问这个元素对象")]),t._v(" "),e("li",[t._v("v-cloak : 防止闪现, 与 css 配合: [v-cloak] { display: none }")])]),t._v(" "),e("h3",{attrs:{id:"_1-13-3-自定义指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-13-3-自定义指令"}},[t._v("#")]),t._v(" 1.13.3. 自定义指令")]),t._v(" "),e("ol",[e("li",[t._v("注册全局指令")])]),t._v(" "),e("p",[t._v("Vue.directive('my-directive', function(el, binding){")]),t._v(" "),e("p",[t._v("el.innerHTML= binding.value.toupperCase()")]),t._v(" "),e("p",[t._v("})")]),t._v(" "),e("ol",[e("li",[t._v("注册局部指令")])]),t._v(" "),e("p",[t._v("directives : {")]),t._v(" "),e("p",[t._v("'my-directive': {")]),t._v(" "),e("p",[t._v("bind (el, binding) {")]),t._v(" "),e("p",[t._v("el.innerHTML = binding.value.toupperCase()")]),t._v(" "),e("p",[t._v("}")]),t._v(" "),e("p",[t._v("}")]),t._v(" "),e("p",[t._v("}")]),t._v(" "),e("ol",[e("li",[t._v("使用指令")])]),t._v(" "),e("p",[t._v("v-my-directive='xxx'")]),t._v(" "),e("h3",{attrs:{id:"_1-13-4-编码-1-内置指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-13-4-编码-1-内置指令"}},[t._v("#")]),t._v(" 1.13.4. 编码 1( 内置指令)")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>12_指令_内置指令</title>\n  <style>\n    [v-cloak] { display: none }\n  </style>\n</head>\n<body>\n\x3c!--\n常用内置指令\n  v:text : 更新元素的 textContent\n  v-html : 更新元素的 innerHTML\n  v-if : 如果为true, 当前标签才会输出到页面\n  v-else: 如果为false, 当前标签才会输出到页面\n  v-show : 通过控制display样式来控制显示/隐藏\n  v-for : 遍历数组/对象\n  v-on : 绑定事件监听, 一般简写为@\n  v-bind : 强制绑定解析表达式, 可以省略v-bind\n  v-model : 双向数据绑定\n  ref : 为某个元素注册一个唯一标识, vue对象通过$refs属性访问这个元素对象\n  v-cloak : 使用它防止闪现表达式, 与css配合: [v-cloak] { display: none }\n--\x3e\n<div id="example">\n  <p v-cloak>{{content}}</p>\n  <p v-text="content"></p>   \x3c!--p.textContent = content--\x3e\n  <p v-html="content"></p>  \x3c!--p.innerHTML = content--\x3e\n  <p ref="msg">abcd</p>\n  <button @click="hint">提示</button>\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  new Vue({\n    el: \'#example\',\n    data: {\n      content: \'<a href="http://www.baidu.com">百度一下</a>\'\n    },\n    methods: {\n      hint () {\n        alert(this.$refs.msg.innerHTML)\n      }\n    }\n  })\n<\/script>\n</body>\n</html>\n')])])]),e("h3",{attrs:{id:"_1-13-5-编码-2-自定义指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-13-5-编码-2-自定义指令"}},[t._v("#")]),t._v(" 1.13.5. 编码 2( 自定义指令)")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <title>12_指令_自定义指令</title>\n</head>\n<body>\n\n\x3c!--\n1. 注册全局指令\n  Vue.directive(\'my-directive\', function(el, binding){\n    el.innerHTML = binding.value.toupperCase()\n  })\n2. 注册局部指令\n  directives : {\n    \'my-directive\' : {\n        bind (el, binding) {\n          el.innerHTML = binding.value.toupperCase()\n        }\n    }\n  }\n3. 使用指令\n  v-my-directive=\'xxx\'\n--\x3e\n\x3c!--\n需求: 自定义2个指令\n  1. 功能类型于v-text, 但转换为全大写\n  2. 功能类型于v-text, 但转换为全小写\n--\x3e\n\n<div id="test">\n  <p v-upper-text="msg"></p>\n  <p v-lower-text="msg"></p>\n</div>\n\n<div id="test2">\n  <p v-upper-text="msg"></p>\n  <p v-lower-text="msg"></p>\n</div>\n\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript">\n  // 注册一个全局指令\n  // el: 指令所在的标签对象\n  // binding: 包含指令相关数据的容器对象\n  Vue.directive(\'upper-text\', function (el, binding) {\n    console.log(el, binding)\n    el.textContent = binding.value.toUpperCase()\n  })\n  new Vue({\n    el: \'#test\',\n    data: {\n      msg: "I Like You"\n    },\n    // 注册局部指令\n    directives: {\n      \'lower-text\'(el, binding) {\n        console.log(el, binding)\n        el.textContent = binding.value.toLowerCase()\n      }\n    }\n\n  })\n\n  new Vue({\n    el: \'#test2\',\n    data: {\n      msg: "I Like You Too"\n    }\n  })\n<\/script>\n</body>\n</html>\n')])])]),e("h2",{attrs:{id:"_1-14-自定义插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-14-自定义插件"}},[t._v("#")]),t._v(" 1.14. 自定义插件")]),t._v(" "),e("h3",{attrs:{id:"_1-14-1-效果-13-插件-test-html"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-14-1-效果-13-插件-test-html"}},[t._v("#")]),t._v(" 1.14.1. 效果 (13_ 插件/test.html)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/1c7d309123063f63da6baf7804b82573.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/1c7d309123063f63da6baf7804b82573.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_1-14-2-说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-14-2-说明"}},[t._v("#")]),t._v(" 1.14.2. 说明")]),t._v(" "),e("ol",[e("li",[t._v("Vue 插件是一个包含 install方法的对象")]),t._v(" "),e("li",[t._v("通过 install 方法给 Vue 或 Vue 实例添加方法, 定义全局指令等")])]),t._v(" "),e("h3",{attrs:{id:"_1-14-3-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-14-3-编码"}},[t._v("#")]),t._v(" 1.14.3. 编码")]),t._v(" "),e("h4",{attrs:{id:"_1-插件-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-插件-js"}},[t._v("#")]),t._v(" 1) 插件 JS")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("/**\n* 自定义 Vue 插件\n*/\n(function () {\nconst MyPlugin = {}\nMyPlugin.install = function (Vue, options) {\n    // 1. 添加全局方法或属性\n    Vue.myGlobalMethod = function () {\n        alert('Vue  函数对象方法执行')\n    }\n    // 2. 添加全局资源\n    Vue.directive('my-directive', function (el, binding) {\n        el.innerHTML = \"MyPlugin my-directive \" + binding.value\n    })\n    // 3. 添加实例方法\n    Vue.prototype.$myMethod = function () {\n        alert('vue  实例对象方法执行')\n    }\n}\nwindow.MyPlugin = MyPlugin\n})()\n")])])]),e("h4",{attrs:{id:"_2-页面使用插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-页面使用插件"}},[t._v("#")]),t._v(" 2) 页面使用插件")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<div id="demo">\n\x3c!-- 使用自定义指令 --\x3e\n<p v-my-directive="msg"></p>\n</div>\n<script type="text/javascript" src="../js/vue.js"><\/script>\n<script type="text/javascript" src="vue-myPlugin.js"><\/script>\n<script type="text/javascript">\n// 使用自定义插件\nVue.use(MyPlugin)\nvar vm = new Vue({\nel: \'#demo\',\ndata: {\nmsg: \'atguigu\'\n}\n})\n// 调用自定义的静态方法\nVue.myGlobalMethod()\n// 调用自定义的对象方法\nvm.$myMethod()\n<\/script>\n')])])]),e("p",[e("strong",[t._v("第2、3、4、5章例子Code")]),t._v("：https://github.com/wangliu1102/vue-study/tree/master/vue_demo")]),t._v(" "),e("h1",{attrs:{id:"第-2-章-vue-组件化编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第-2-章-vue-组件化编码"}},[t._v("#")]),t._v(" 第 2 章：vue 组件化编码")]),t._v(" "),e("h2",{attrs:{id:"_2-1-使用-vue-cli-创建模板项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-使用-vue-cli-创建模板项目"}},[t._v("#")]),t._v(" 2.1. 使用 vue-cli 创建模板项目")]),t._v(" "),e("h3",{attrs:{id:"_2-1-1-说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-1-说明"}},[t._v("#")]),t._v(" 2.1.1. 说明")]),t._v(" "),e("ol",[e("li",[t._v("vue-cli 是 vue 官方提供的脚手架工具")]),t._v(" "),e("li",[t._v("github: https://github.com/vuejs/vue-cli")]),t._v(" "),e("li",[t._v("作用: 从 https://github.com/vuejs-templates 下载模板项目")])]),t._v(" "),e("h3",{attrs:{id:"_2-1-2-创建-vue-项目"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-2-创建-vue-项目"}},[t._v("#")]),t._v(" 2.1.2. 创建 vue 项目")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm install -g vue-cli\nvue init webpack vue_demo\ncd vue_demo\nnpm install\nnpm run dev\n")])])]),e("p",[t._v("访问: http://localhost:8080/")]),t._v(" "),e("h3",{attrs:{id:"_2-1-3-模板项目的结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-3-模板项目的结构"}},[t._v("#")]),t._v(" 2.1.3. 模板项目的结构")]),t._v(" "),e("p",[t._v("|-- build : webpack 相关的配置文件夹(基本不需要修改)")]),t._v(" "),e("p",[t._v("|-- dev-server.js : 通过 express 启动后台服务器")]),t._v(" "),e("p",[t._v("|-- config: webpack 相关的配置文件夹(基本不需要修改)")]),t._v(" "),e("p",[t._v("|-- index.js:指定的后台服务的端口号和静态资源文件夹")]),t._v(" "),e("p",[t._v("|-- node_modules")]),t._v(" "),e("p",[t._v("|-- src : 源码文件夹")]),t._v(" "),e("p",[t._v("|-- components: vue组件及其相关资源文件夹")]),t._v(" "),e("p",[t._v("|-- App.vue: 应用根主组件")]),t._v(" "),e("p",[t._v("|-- main.js: 应用入口 js")]),t._v(" "),e("p",[t._v("|-- static: 静态资源文件夹")]),t._v(" "),e("p",[t._v("|-- .babelrc: babel 的配置文件")]),t._v(" "),e("p",[t._v("|-- .eslintignore: eslint 检查忽略的配置")]),t._v(" "),e("p",[t._v("|-- .eslintrc.js: eslint 检查的配置")]),t._v(" "),e("p",[t._v("|-- .gitignore: git 版本管制忽略的配置")]),t._v(" "),e("p",[t._v("|-- index.html: 主页面文件")]),t._v(" "),e("p",[t._v("|-- package.json: 应用包配置文件")]),t._v(" "),e("p",[t._v("|-- README.md: 应用描述说明的 readme 文件")]),t._v(" "),e("h3",{attrs:{id:"_2-1-4-效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-4-效果"}},[t._v("#")]),t._v(" 2.1.4. 效果")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/24cf6824-17b6-4879-893e-ee5d52a8cdec.png",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/24cf6824-17b6-4879-893e-ee5d52a8cdec.png",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_2-2-项目的打包与发布"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-项目的打包与发布"}},[t._v("#")]),t._v(" "),e("strong",[t._v("2.2. 项目的打包与发布")])]),t._v(" "),e("h3",{attrs:{id:"_2-2-1-打包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-1-打包"}},[t._v("#")]),t._v(" 2.2.1. 打包:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm run build\n")])])]),e("h3",{attrs:{id:"_2-2-2-发布-1-使用静态服务器工具包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-2-发布-1-使用静态服务器工具包"}},[t._v("#")]),t._v(" 2.2.2. 发布 1: 使用静态服务器工具包")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm install -g serve\nserve dist\n")])])]),e("p",[t._v("访问: "),e("a",{attrs:{href:"http://localhost:5000/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:5000"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_2-2-3-发布-2-使用动态-web-服务器-tomcat"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-3-发布-2-使用动态-web-服务器-tomcat"}},[t._v("#")]),t._v(" 2.2.3. 发布 2: 使用动态 web 服务器(tomcat)")]),t._v(" "),e("p",[t._v("修改配置: webpack.prod.conf.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("output: {\n\tpublicPath: '/xxx/' //打包文件夹的名称\n}\n")])])]),e("p",[t._v("重新打包:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm run build\n")])])]),e("p",[t._v("修改 dist 文件夹为项目名称: xxx")]),t._v(" "),e("p",[t._v("将 xxx 拷贝到运行的 tomcat 的 webapps 目录下")]),t._v(" "),e("p",[t._v("访问: http://localhost:8080/xxx")]),t._v(" "),e("h2",{attrs:{id:"_2-3-eslint"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-eslint"}},[t._v("#")]),t._v(" 2.3. eslint")]),t._v(" "),e("h3",{attrs:{id:"_2-3-1-说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-说明"}},[t._v("#")]),t._v(" 2.3.1. 说明")]),t._v(" "),e("ol",[e("li",[t._v("ESLint 是一个代码规范检查工具")]),t._v(" "),e("li",[t._v("它定义了很多特定的规则, 一旦你的代码违背了某一规则, eslint会作出非常有用的提示")]),t._v(" "),e("li",[t._v("官网: http://eslint.org/")]),t._v(" "),e("li",[t._v("基本已替代以前的 JSLint")])]),t._v(" "),e("h3",{attrs:{id:"_2-3-2-eslint-提供以下支持"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-eslint-提供以下支持"}},[t._v("#")]),t._v(" 2.3.2. ESLint 提供以下支持")]),t._v(" "),e("ol",[e("li",[t._v("ES")]),t._v(" "),e("li",[t._v("JSX")]),t._v(" "),e("li",[t._v("style 检查")]),t._v(" "),e("li",[t._v("自定义错误和提示")])]),t._v(" "),e("h3",{attrs:{id:"_2-3-3-eslint-提供以下几种校验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-3-eslint-提供以下几种校验"}},[t._v("#")]),t._v(" 2.3.3. ESLint 提供以下几种校验")]),t._v(" "),e("ol",[e("li",[t._v("语法错误校验")]),t._v(" "),e("li",[t._v("不重要或丢失的标点符号，如分号")]),t._v(" "),e("li",[t._v("没法运行到的代码块（使用过 WebStorm 的童鞋应该了解）")]),t._v(" "),e("li",[t._v("未被使用的参数提醒")]),t._v(" "),e("li",[t._v("确保样式的统一规则，如 sass 或者less")]),t._v(" "),e("li",[t._v("检查变量的命名")])]),t._v(" "),e("h3",{attrs:{id:"_2-3-4-规则的错误等级有三种"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-4-规则的错误等级有三种"}},[t._v("#")]),t._v(" 2.3.4. 规则的错误等级有三种")]),t._v(" "),e("ol",[e("li",[t._v("0：关闭规则。")]),t._v(" "),e("li",[t._v("1：打开规则，并且作为一个警告（信息打印黄色字体）")]),t._v(" "),e("li",[t._v("2：打开规则，并且作为一个错误（信息打印红色字体）")])]),t._v(" "),e("h3",{attrs:{id:"_2-3-5-相关配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-5-相关配置文件"}},[t._v("#")]),t._v(" 2.3.5. 相关配置文件")]),t._v(" "),e("ol",[e("li",[t._v(".eslintrc.js : 全局规则配置文件")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("'rules': {\n    'no-new': 1\n}\n")])])]),e("ol",[e("li",[t._v("在 js/vue 文件中修改局部规则")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("/* eslint-disable no-new */\nnew Vue({\n    el: 'body',\n    components: { App }\n})\n")])])]),e("ol",[e("li",[t._v(".eslintignore: 指令检查忽略的文件")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("*.js\n*.vue\n")])])]),e("h2",{attrs:{id:"_2-4-组件定义与使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-组件定义与使用"}},[t._v("#")]),t._v(" 2.4. 组件定义与使用")]),t._v(" "),e("h3",{attrs:{id:"_2-4-1-vue-文件的组成-3-个部分"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-1-vue-文件的组成-3-个部分"}},[t._v("#")]),t._v(" 2.4.1. vue 文件的组成(3 个部分)")]),t._v(" "),e("ol",[e("li",[t._v("模板页面")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<template>\n    页面模板\n</template>\n")])])]),e("ol",[e("li",[t._v("JS 模块对象")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<script>\n    export default {\n        data() {return {}},\n        methods: {},\n        computed: {},\n        components: {}\n}\n<\/script>\n")])])]),e("ol",[e("li",[t._v("样式")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<style>\n    样式定义\n</style>\n")])])]),e("h3",{attrs:{id:"_2-4-2-基本使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-2-基本使用"}},[t._v("#")]),t._v(" 2.4.2. 基本使用")]),t._v(" "),e("ol",[e("li",[t._v("引入组件")]),t._v(" "),e("li",[t._v("映射成标签")]),t._v(" "),e("li",[t._v("使用组件标签")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<template>\n    <HelloWorld></HelloWorld>\n    <hello-world></hello-world>\n</template>\n<script>\n    import HelloWorld from './components/HelloWorld'\n    export default {\n        components: {\n            HelloWorld\n        }\n    }\n<\/script>\n")])])]),e("h3",{attrs:{id:"_2-4-3-关于标签名与标签属性名书写问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-3-关于标签名与标签属性名书写问题"}},[t._v("#")]),t._v(" 2.4.3. 关于标签名与标签属性名书写问题")]),t._v(" "),e("ol",[e("li",[t._v("写法一: 一模一样")]),t._v(" "),e("li",[t._v("写法二: 大写变小写, 并用-连接")])]),t._v(" "),e("h2",{attrs:{id:"_2-5-组件间通信"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-组件间通信"}},[t._v("#")]),t._v(" 2.5. 组件间通信")]),t._v(" "),e("h3",{attrs:{id:"_2-5-1-组件间通信基本原则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-1-组件间通信基本原则"}},[t._v("#")]),t._v(" 2.5.1. 组件间通信基本原则")]),t._v(" "),e("ol",[e("li",[t._v("不要在子组件中直接修改父组件的状态数据")]),t._v(" "),e("li",[t._v("数据在哪, 更新数据的行为(函数)就应该定义在哪")])]),t._v(" "),e("h3",{attrs:{id:"_2-5-2-vue-组件间通信方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2-vue-组件间通信方式"}},[t._v("#")]),t._v(" 2.5.2. vue 组件间通信方式")]),t._v(" "),e("ol",[e("li",[t._v("props")]),t._v(" "),e("li",[t._v("vue 的自定义事件")]),t._v(" "),e("li",[t._v("消息订阅与发布(如: pubsub 库)")]),t._v(" "),e("li",[t._v("slot")]),t._v(" "),e("li",[t._v("vuex(后面单独讲)")])]),t._v(" "),e("h2",{attrs:{id:"_2-6-组件间通信-1-props"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-组件间通信-1-props"}},[t._v("#")]),t._v(" 2.6. 组件间通信 1: props")]),t._v(" "),e("h3",{attrs:{id:"_2-6-1-使用组件标签时"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-1-使用组件标签时"}},[t._v("#")]),t._v(" 2.6.1. 使用组件标签时")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<my-component name='tom' :age='3':set-name='setName'></my-component>\n")])])]),e("h3",{attrs:{id:"_2-6-2-定义-mycomponent-时"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-2-定义-mycomponent-时"}},[t._v("#")]),t._v(" 2.6.2. 定义 MyComponent 时")]),t._v(" "),e("ol",[e("li",[t._v("在组件内声明所有的 props")]),t._v(" "),e("li",[t._v("方式一: 只指定名称")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("props: ['name', 'age', 'setName']\n")])])]),e("ol",[e("li",[t._v("方式二: 指定名称和类型")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("props: {\n    name: String,\n    age: Number,\n    setNmae: Function\n}\n")])])]),e("ol",[e("li",[t._v("方式三: 指定名称/类型/必要性/默认值")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("props: {\n    name:{type: String, required: true, default:xxx},\n}\n")])])]),e("h3",{attrs:{id:"_2-6-3-注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-3-注意"}},[t._v("#")]),t._v(" 2.6.3. 注意")]),t._v(" "),e("ol",[e("li",[t._v("此方式用于父组件向子组件传递数据")]),t._v(" "),e("li",[t._v("所有标签属性都会成为组件对象的属性, 模板页面可以直接引用")]),t._v(" "),e("li",[t._v("问题:")])]),t._v(" "),e("p",[t._v("a. 如果需要向非子后代传递数据必须多层逐层传递")]),t._v(" "),e("p",[t._v("b. 兄弟组件间也不能直接 props 通信, 必须借助父组件才可以")]),t._v(" "),e("h2",{attrs:{id:"_2-7-组件间通信-2-vue-自定义事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-组件间通信-2-vue-自定义事件"}},[t._v("#")]),t._v(" 2.7. 组件间通信 2: vue 自定义事件")]),t._v(" "),e("h3",{attrs:{id:"_2-7-1-绑定事件监听"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-1-绑定事件监听"}},[t._v("#")]),t._v(" 2.7.1. 绑定事件监听")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 方式一: 通过 v-on 绑定\n@delete_todo=\"deleteTodo\"\n// 方式二: 通过$on()\nthis.$refs.xxx.$on('delete_todo', function (todo) {\n    this.deleteTodo(todo)\n})\n")])])]),e("h3",{attrs:{id:"_2-7-2-触发事件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-2-触发事件"}},[t._v("#")]),t._v(" 2.7.2. 触发事件")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 触发事件(只能在父组件中接收)\nthis.$emit(eventName, data)\n")])])]),e("h3",{attrs:{id:"_2-7-3-注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-3-注意"}},[t._v("#")]),t._v(" 2.7.3. 注意:")]),t._v(" "),e("ol",[e("li",[t._v("此方式只用于子组件向父组件发送消息(数据)")]),t._v(" "),e("li",[t._v("问题: 隔代组件或兄弟组件间通信此种方式不合适")])]),t._v(" "),e("h2",{attrs:{id:"_2-8-组件间通信-3-消息订阅与发布-pubsubjs-库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-组件间通信-3-消息订阅与发布-pubsubjs-库"}},[t._v("#")]),t._v(" 2.8. 组件间通信 3: 消息订阅与发布(PubSubJS 库)")]),t._v(" "),e("p",[t._v("下载PubSubJS库：")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm install --save pubsub-js\n")])])]),e("h3",{attrs:{id:"_2-8-1-订阅消息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-1-订阅消息"}},[t._v("#")]),t._v(" 2.8.1. 订阅消息")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("PubSub.subscribe('msg', function(msg, data){})\n")])])]),e("h3",{attrs:{id:"_2-8-2-发布消息"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-2-发布消息"}},[t._v("#")]),t._v(" 2.8.2. 发布消息")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("PubSub.publish('msg', data)\n")])])]),e("h3",{attrs:{id:"_2-8-3-注意"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-3-注意"}},[t._v("#")]),t._v(" 2.8.3. 注意")]),t._v(" "),e("ol",[e("li",[t._v("优点: 此方式可实现任意关系组件间通信(数据)")])]),t._v(" "),e("h3",{attrs:{id:"_2-8-4-事件的-2-个重要操作-总结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-4-事件的-2-个重要操作-总结"}},[t._v("#")]),t._v(" 2.8.4. 事件的 2 个重要操作( 总结)")]),t._v(" "),e("ol",[e("li",[t._v("绑定事件监听 (订阅消息)")])]),t._v(" "),e("p",[t._v("目标: 标签元素")]),t._v(" "),e("p",[t._v("事件名(类型): click/focus")]),t._v(" "),e("p",[t._v("回调函数: function(event){}")]),t._v(" "),e("ol",[e("li",[t._v("触发事件 (发布消息)")])]),t._v(" "),e("p",[t._v("DOM 事件:用户在浏览器上对应的界面上做对应的操作")]),t._v(" "),e("p",[t._v("自定义: 编码手动触发")]),t._v(" "),e("h2",{attrs:{id:"_2-9-组件间通信-4-slot"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-组件间通信-4-slot"}},[t._v("#")]),t._v(" 2.9. 组件间通信 4: slot")]),t._v(" "),e("h3",{attrs:{id:"_2-9-1-理解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-1-理解"}},[t._v("#")]),t._v(" 2.9.1. 理解")]),t._v(" "),e("p",[t._v("此方式用于父组件向子组件传递"),e("code",[t._v("**标签**数据")])]),t._v(" "),e("h3",{attrs:{id:"_2-9-2-子组件-child-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-2-子组件-child-vue"}},[t._v("#")]),t._v(" 2.9.2. 子组件: Child.vue")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<template>\n    <div>\n        <slot name="xxx">不确定的标签结构 1</slot>\n        <div>组件确定的标签结构</div>\n        <slot name="yyy">不确定的标签结构 2</slot>\n    </div>\n</template>\n')])])]),e("h3",{attrs:{id:"_2-9-3-父组件-parent-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-9-3-父组件-parent-vue"}},[t._v("#")]),t._v(" 2.9.3. 父组件: Parent.vue")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<child>\n    <div slot="xxx">xxx 对应的标签结构</div>\n    <div slot="yyy">yyyy 对应的标签结构</div>\n</child>\n')])])]),e("h2",{attrs:{id:"_2-10-demo1-comment-manage"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-10-demo1-comment-manage"}},[t._v("#")]),t._v(" 2.10. demo1: comment manage")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/comments.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/comments.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("idea 打开vue-demo项目，https://github.com/wangliu1102/vue-study/tree/master/vue_demo/src-comments 修改build/webpack.base.conf.js文件，")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/692777c6-d96e-485b-a6fb-6690043b3aa8.png",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/692777c6-d96e-485b-a6fb-6690043b3aa8.png",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("然后控制台npm start命令运行")]),t._v(" "),e("h2",{attrs:{id:"_2-11-demo2-todo-list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-11-demo2-todo-list"}},[t._v("#")]),t._v(" 2.11. demo2: todo list")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/todos.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/todos.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("idea 打开vue-demo项目，")]),t._v(" "),e("p",[t._v("https://github.com/wangliu1102/vue-study/tree/master/vue_demo/src-todos1")]),t._v(" "),e("p",[t._v("https://github.com/wangliu1102/vue-study/tree/master/vue_demo/src-todos2")]),t._v(" "),e("p",[t._v("修改build/webpack.base.conf.js文件，")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  entry: {\n    app: './src-todos2/main.js'\n    //app: './src-todos1/main.js'\n  }\n")])])]),e("p",[t._v("然后控制台npm start命令运行，"),e("strong",[t._v("src-todos2")]),t._v("包含了4种组件间通信方式，并优化了存储localStorage，idea 打开，然后控制台npm start命令运行。"),e("strong",[t._v("注意：src-todos1只包含props这一种组件间通信方式")])]),t._v(" "),e("h1",{attrs:{id:"第-3-章-vue-ajax"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第-3-章-vue-ajax"}},[t._v("#")]),t._v(" 第 3 章：vue-ajax")]),t._v(" "),e("h2",{attrs:{id:"_3-1-vue-项目中常用的-2-个-个-ajax-库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-vue-项目中常用的-2-个-个-ajax-库"}},[t._v("#")]),t._v(" 3.1. vue 项目中常用的 2 个 个 ajax 库")]),t._v(" "),e("h3",{attrs:{id:"_3-1-1-vue-resource"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-vue-resource"}},[t._v("#")]),t._v(" 3.1.1. vue-resource")]),t._v(" "),e("p",[t._v("vue 插件, 非官方库, vue1.x 使用广泛")]),t._v(" "),e("h3",{attrs:{id:"_3-1-2-axios"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-axios"}},[t._v("#")]),t._v(" 3.1.2. axios")]),t._v(" "),e("p",[t._v("通用的 ajax 请求库, 官方推荐, vue2.x 使用广泛")]),t._v(" "),e("h2",{attrs:{id:"_3-2-vue-resource-的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-vue-resource-的使用"}},[t._v("#")]),t._v(" 3.2. vue-resource 的使用")]),t._v(" "),e("h3",{attrs:{id:"_3-2-1-在线文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-在线文档"}},[t._v("#")]),t._v(" 3.2.1. 在线文档")]),t._v(" "),e("p",[t._v("https://github.com/pagekit/vue-resource/blob/develop/docs/http.md")]),t._v(" "),e("h3",{attrs:{id:"_3-2-2-下载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-下载"}},[t._v("#")]),t._v(" 3.2.2. 下载")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm install vue-resource --save\n")])])]),e("h3",{attrs:{id:"_3-2-3-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-3-编码"}},[t._v("#")]),t._v(" 3.2.3. 编码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 引入模块\nimport VueResource from 'vue-resource'\n// 使用插件\nVue.use(VueResource)\n// 通过 vue/组件对象发送 ajax 请求\nthis.$http.get('/someUrl').then((response) => {\n    //success callback\n    console.log(response.data) //返回结果数据\n}, (response) => {\n    //error callback\n    console.log(response.statusText) //错误信息\n})\n")])])]),e("h2",{attrs:{id:"_3-3-axios-的使用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-axios-的使用"}},[t._v("#")]),t._v(" 3.3. axios 的使用")]),t._v(" "),e("h3",{attrs:{id:"_3-3-1-效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-1-效果"}},[t._v("#")]),t._v(" 3.3.1. 效果")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/ajax.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/ajax.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("idea 打开vue-demo项目，")]),t._v(" "),e("p",[t._v("https://github.com/wangliu1102/vue-study/tree/master/vue_demo/src-ajax")]),t._v(" "),e("p",[t._v("修改build/webpack.base.conf.js文件，")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  entry: {\n    app: './src-ajax/main.js'\n  }\n")])])]),e("p",[t._v("然后控制台npm start命令运行，包含vue-resource和axios简单基本使用")]),t._v(" "),e("h3",{attrs:{id:"_3-3-2-在线文档"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-2-在线文档"}},[t._v("#")]),t._v(" 3.3.2. 在线文档")]),t._v(" "),e("p",[t._v("https://github.com/axios/axios")]),t._v(" "),e("h3",{attrs:{id:"_3-3-3-下载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-3-下载"}},[t._v("#")]),t._v(" 3.3.3. 下载:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm install axios --save\n")])])]),e("h3",{attrs:{id:"_3-3-4-编码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-4-编码"}},[t._v("#")]),t._v(" 3.3.4. 编码")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("// 引入模块\nimport axios from 'axios'\n// 发送 ajax 请求GET\naxios.get(url)\n    .then(response => {\n        console.log(response.data) // 得到返回结果数据\n    })\n    .catch(error => {\n        console.log(error.message)\n    });\n// 发送 ajax 请求POST\naxios.post('/user', {\n    firstName: 'Fred',\n    lastName: 'Flintstone'\n  })\n  .then(function (response) {\n    console.log(response);\n  })\n  .catch(function (error) {\n    console.log(error);\n  });\n")])])]),e("h2",{attrs:{id:"_3-4-测试接口"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-测试接口"}},[t._v("#")]),t._v(" 3.4. 测试接口")]),t._v(" "),e("p",[t._v("接口 1: https://api.github.com/search/repositories?q=v&sort=stars")]),t._v(" "),e("p",[t._v("接口 2: https://api.github.com/search/users?q=aa")]),t._v(" "),e("h2",{attrs:{id:"_3-5-demo3-github-users"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-demo3-github-users"}},[t._v("#")]),t._v(" 3.5. demo3: github users")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/users.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/users.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("idea 打开vue-demo项目，")]),t._v(" "),e("p",[t._v("https://github.com/wangliu1102/vue-study/tree/master/vue_demo/src-users")]),t._v(" "),e("p",[t._v("修改build/webpack.base.conf.js文件，")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  entry: {\n    app: './src-users/main.js'\n  }\n")])])]),e("p",[t._v("然后控制台npm start命令运行")]),t._v(" "),e("h1",{attrs:{id:"第4章-vue-ui-组件库"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第4章-vue-ui-组件库"}},[t._v("#")]),t._v(" 第4章: vue UI 组件库")]),t._v(" "),e("h2",{attrs:{id:"_4-1-常用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-常用"}},[t._v("#")]),t._v(" 4.1. 常用")]),t._v(" "),e("ol",[e("li",[t._v("Mint UI:")])]),t._v(" "),e("p",[t._v("a. 主页: http://mint-ui.github.io/#!/zh-cn")]),t._v(" "),e("p",[t._v("b. 说明: 饿了么开源的基于 vue 的移动端 UI 组件库")]),t._v(" "),e("ol",[e("li",[t._v("Elment")])]),t._v(" "),e("p",[t._v("a. 主页: http://element-cn.eleme.io/#/zh-CN")]),t._v(" "),e("p",[t._v("b. 说明: 饿了么开源的基于 vue 的 PC 端 UI 组件库")]),t._v(" "),e("h2",{attrs:{id:"_4-2-使用-mintui"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-使用-mintui"}},[t._v("#")]),t._v(" 4.2. 使用 MintUI")]),t._v(" "),e("h3",{attrs:{id:"_4-2-1-下载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-1-下载"}},[t._v("#")]),t._v(" 4.2.1. 下载:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm install --save mint-ui\n")])])]),e("h3",{attrs:{id:"_4-2-2-实现按需打包"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-2-实现按需打包"}},[t._v("#")]),t._v(" 4.2.2. 实现按需打包")]),t._v(" "),e("p",[t._v("\\1. 下载")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm install --save-dev babel-plugin-component\n")])])]),e("p",[t._v("\\2. 修改 babel 配置")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('"plugins": ["transform-runtime",["component", [\n {\n    "libraryName": "mint-ui",\n    "style": true\n }\n]]]\n')])])]),e("h3",{attrs:{id:"_4-2-3-mint-ui-组件分类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-3-mint-ui-组件分类"}},[t._v("#")]),t._v(" 4.2.3. mint-ui 组件分类")]),t._v(" "),e("ol",[e("li",[t._v("标签组件")]),t._v(" "),e("li",[t._v("非标签组件")])]),t._v(" "),e("h3",{attrs:{id:"_4-2-4-使用-mint-ui-的组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-4-使用-mint-ui-的组件"}},[t._v("#")]),t._v(" 4.2.4. 使用 mint-ui 的组件")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/ui.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/ui.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("idea 打开vue-demo项目，")]),t._v(" "),e("p",[t._v("https://github.com/wangliu1102/vue-study/tree/master/vue_demo/src-ui")]),t._v(" "),e("p",[t._v("修改build/webpack.base.conf.js文件，")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  entry: {\n    app: './src-ui/main.js'\n  }\n")])])]),e("p",[t._v("然后控制台npm start命令运行")]),t._v(" "),e("p",[e("strong",[t._v("编码：")])]),t._v(" "),e("ol",[e("li",[t._v("index.html")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<meta name=\"viewport\" content=\"width=device-width,initial-scale=1, maximum-scale=1,minimum-scale=1, user-scalable=no\" />\n<script src=\"https://as.alipayobjects.com/g/component/fastclick/1.0.6/fastclick.js\"><\/script>\n<script>\n    if ('addEventListener' in document) {\n        document.addEventListener('DOMContentLoaded', function(){\n            FastClick.attach(document.body);\n        }, false);\n    }\n    if(!window.Promise){\n        document.writeln('<script src=\"https://as.alipayobjects.com/g/component/es6-promise/3.2.2/es6-promise.min.js\"'+'>'+'<'+'/'+'script>');\n    }\n<\/script>\n")])])]),e("ol",[e("li",[t._v("main.js")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import {Button} from 'mint-ui'\nVue.component(Button.name, Button)\n")])])]),e("ol",[e("li",[t._v("App.vue")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<template>\n    <mt-button @click="handleClick" type="primary" style="width: 100%">Test</mt-button>\n</template>\n<script>\n    import {Toast} from\'mint-ui\'\n    export default {\n        methods: {\n            handleClick () {\n                Toast(\' 点击了测试\');\n            }\n        }\n    }\n<\/script>\n')])])]),e("h1",{attrs:{id:"第-5-章-vue-router"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第-5-章-vue-router"}},[t._v("#")]),t._v(" 第 5 章：vue-router")]),t._v(" "),e("h2",{attrs:{id:"路由是什么-key-value-键值对"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#路由是什么-key-value-键值对"}},[t._v("#")]),t._v(" 路由是什么：key-value 键值对")]),t._v(" "),e("p",[t._v("key：path路径；")]),t._v(" "),e("p",[t._v("value：前台路由：组件")]),t._v(" "),e("p",[t._v("后台路由：处理请求的回调函数")]),t._v(" "),e("h2",{attrs:{id:"_5-1-理解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-理解"}},[t._v("#")]),t._v(" 5.1. 理解")]),t._v(" "),e("h3",{attrs:{id:"_5-1-1-说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-1-说明"}},[t._v("#")]),t._v(" 5 .1.1. 说明")]),t._v(" "),e("ol",[e("li",[t._v("官方提供的用来实现 SPA 的 vue 插件")]),t._v(" "),e("li",[t._v("github: https://github.com/vuejs/vue-router")]),t._v(" "),e("li",[t._v("中文文档: http://router.vuejs.org/zh-cn/")]),t._v(" "),e("li",[t._v("下载:")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("npm install vue-router --save\n")])])]),e("h3",{attrs:{id:"_5-1-2-相关-api-说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-2-相关-api-说明"}},[t._v("#")]),t._v(" 5 .1.2. 相关 API 说明")]),t._v(" "),e("ol",[e("li",[t._v("VueRouter(): 用于创建路由器的构建函数")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("new VueRouter({\n    // 多个配置项\n})\n")])])]),e("ol",[e("li",[t._v("路由配置")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("routes: [\n    {   // 一般路由\n        path: '/about',\n        component: About\n    },\n    {   // 自动跳转路由\n        path: '/',\n        redirect: '/about'\n    }\n]\n")])])]),e("ol",[e("li",[t._v("注册路由器")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import router from './route'\nnew Vue({\n    router\n})\n")])])]),e("ol",[e("li",[t._v("使用路由组件标签")])]),t._v(" "),e("p",[t._v("\\1. : 用来生成路由链接")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<router-link to="/xxx">Go to XXX</router-link>\n')])])]),e("p",[t._v("\\2. : 用来显示当前路由组件界面")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<router-view></router-view>\n")])])]),e("h2",{attrs:{id:"_5-2-基本路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-基本路由"}},[t._v("#")]),t._v(" 5.2. 基本路由")]),t._v(" "),e("h3",{attrs:{id:"_5-2-1-效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-1-效果"}},[t._v("#")]),t._v(" 5.2.1. 效果")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/8b6f6f2dceefd2bc2c27dd2d7802e1c1.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/8b6f6f2dceefd2bc2c27dd2d7802e1c1.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#-3"}},[t._v("#")])]),t._v(" "),e("p",[t._v("idea 打开vue-demo项目，")]),t._v(" "),e("p",[t._v("https://github.com/wangliu1102/vue-study/tree/master/vue_demo/src")]),t._v(" "),e("p",[t._v("修改build/webpack.base.conf.js文件，")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  entry: {\n    app: './src/main.js'\n  }\n")])])]),e("p",[t._v("然后控制台npm start命令运行，下面路由相关都在src目录里面")]),t._v(" "),e("h3",{attrs:{id:"_5-2-2-路由组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-2-路由组件"}},[t._v("#")]),t._v(" 5.2.2. 路由组件")]),t._v(" "),e("p",[t._v("Home.vue")]),t._v(" "),e("p",[t._v("About.vue")]),t._v(" "),e("h3",{attrs:{id:"_5-2-3-应用组件-app-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-3-应用组件-app-vue"}},[t._v("#")]),t._v(" 5.2.3. 应用组件: App.vue")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<div>\n    \x3c!--路由链接--\x3e\n    <router-link to="/about">About</router-link>\n    <router-link to="/home">Home</router-link>\n    \x3c!--用于渲染当前路由组件--\x3e\n    <router-view></router-view>\n</div>\n')])])]),e("h3",{attrs:{id:"_5-2-4-路由器模块-src-router-index-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-4-路由器模块-src-router-index-js"}},[t._v("#")]),t._v(" 5.2.4. 路由器模块: src/router/index.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("export default new VueRouter({\n    routes: [\n        {\n            path: '/',\n            redirect: '/about'\n        },\n        {\n            path: '/about',\n            component: About\n        },\n        {\n            path: '/home',\n            component: Home\n        }\n    ]\n})\n")])])]),e("h3",{attrs:{id:"_5-2-5-注册路由器-main-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-5-注册路由器-main-js"}},[t._v("#")]),t._v(" 5.2.5. 注册路由器: main.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import Vue from 'vue'\nimport router from './route'\n// 创建 vue 配置路由器\nnew Vue({\n    el: '#app',\n    router,\n    render: h => h(app)\n})\n")])])]),e("h3",{attrs:{id:"_5-2-6-优化路由器配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-6-优化路由器配置"}},[t._v("#")]),t._v(" 5.2.6. 优化路由器配置")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("linkActiveClass: 'active', // 指定选中的路由链接的 class\n")])])]),e("h3",{attrs:{id:"_5-2-7-总结-编写使用路由的-3-步"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-7-总结-编写使用路由的-3-步"}},[t._v("#")]),t._v(" 5.2.7. 总结: 编写使用路由的 3 步")]),t._v(" "),e("ol",[e("li",[t._v("定义路由组件")]),t._v(" "),e("li",[t._v("注册路由")]),t._v(" "),e("li",[t._v("使用路由")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<router-link>\n<router-view>\n")])])]),e("h2",{attrs:{id:"_5-3-嵌套路由"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-嵌套路由"}},[t._v("#")]),t._v(" 5.3. 嵌套路由")]),t._v(" "),e("h3",{attrs:{id:"_5-3-1-效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-1-效果"}},[t._v("#")]),t._v(" 5.3.1. 效果")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/02a9333a9fa73e25c575e4043c97b2b5.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/02a9333a9fa73e25c575e4043c97b2b5.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_5-3-2-子路由组件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-2-子路由组件"}},[t._v("#")]),t._v(" 5.3.2. 子路由组件")]),t._v(" "),e("p",[t._v("News.vue")]),t._v(" "),e("p",[t._v("Message.vue")]),t._v(" "),e("h3",{attrs:{id:"_5-3-3-配置嵌套路由-router-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-3-配置嵌套路由-router-js"}},[t._v("#")]),t._v(" 5.3.3. 配置嵌套路由: router.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("path: '/home',\ncomponent: home,\nchildren: [\n    {\n        path: 'news',\n        component: News\n    },\n    {\n        path: 'message',\n        component: Message\n    }\n]\n")])])]),e("h3",{attrs:{id:"_5-3-4-路由链接-home-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-4-路由链接-home-vue"}},[t._v("#")]),t._v(" 5.3.4. 路由链接: Home.vue")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<router-link to="/home/news">News</router-link>\n<router-link to="/home/message">Message</router-link>\n<router-view></route-view>\n')])])]),e("h2",{attrs:{id:"_5-4-向路由组件传递数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-向路由组件传递数据"}},[t._v("#")]),t._v(" 5.4. 向路由组件传递数据")]),t._v(" "),e("h3",{attrs:{id:"_5-4-1-效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-1-效果"}},[t._v("#")]),t._v(" 5.4.1. 效果")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/43d9c2d9640ff7a852ffd6998924d125.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/43d9c2d9640ff7a852ffd6998924d125.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_5-4-2-方式-1-路由路径携带参数-param-query"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-2-方式-1-路由路径携带参数-param-query"}},[t._v("#")]),t._v(" 5.4.2. 方式 1: 路由路径携带参数(param/query)")]),t._v(" "),e("ol",[e("li",[t._v("配置路由")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("children: [\n    {\n        path: 'mdetail/:id',\n        component: MessageDetail\n    }\n]\n")])])]),e("ol",[e("li",[t._v("路由路径")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<router-link :to=\"'/home/message/mdetail/'+m.id\">{{m.title}}</router-link>\n")])])]),e("ol",[e("li",[t._v("路由组件中读取请求参数")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("this.$route.params.id\n")])])]),e("h3",{attrs:{id:"_5-4-3-方式-2-属性携带数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-3-方式-2-属性携带数据"}},[t._v("#")]),t._v(" 5.4.3. 方式 2: 属性携带数据")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<router-view :msg="msg"></router-view>\n')])])]),e("h2",{attrs:{id:"_5-5-缓存路由组件对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-缓存路由组件对象"}},[t._v("#")]),t._v(" 5.5. 缓存路由组件对象")]),t._v(" "),e("h3",{attrs:{id:"_5-5-1-理解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-1-理解"}},[t._v("#")]),t._v(" 5.5.1. 理解")]),t._v(" "),e("ol",[e("li",[t._v("默认情况下, 被切换的路由组件对象会死亡释放, 再次回来时是重新创建的")]),t._v(" "),e("li",[t._v("如果可以缓存路由组件对象, 可以提高用户体验")])]),t._v(" "),e("h3",{attrs:{id:"_5-5-2-编码实现"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-2-编码实现"}},[t._v("#")]),t._v(" 5.5.2. 编码实现")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<keep-alive>\n    <router-view></router-view>\n</keep-alive>\n")])])]),e("h2",{attrs:{id:"_5-6-编程式路由导航"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-编程式路由导航"}},[t._v("#")]),t._v(" 5.6. 编程式路由导航")]),t._v(" "),e("h3",{attrs:{id:"_5-6-1-效果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-1-效果"}},[t._v("#")]),t._v(" 5.6.1. 效果")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/7207a70cbe0c6063eae9093fa2929279.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/7207a70cbe0c6063eae9093fa2929279.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_5-6-2-相关-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-2-相关-api"}},[t._v("#")]),t._v(" 5.6.2. 相关 API")]),t._v(" "),e("ol",[e("li",[t._v("this.$router.push(path): 相当于点击路由链接(可以返回到当前路由界面)")]),t._v(" "),e("li",[t._v("this.$router.replace(path): 用新路由替换当前路由(不可以返回到当前路由界面)")]),t._v(" "),e("li",[t._v("this.$router.back(): 请求(返回)上一个记录路由")]),t._v(" "),e("li",[t._v("this.$router.go(-1): 请求(返回)上一个记录路由")]),t._v(" "),e("li",[t._v("this.$router.go(1): 请求下一个记录路由")])]),t._v(" "),e("hr"),t._v(" "),e("p",[e("strong",[t._v("Code")]),t._v("：https://github.com/wangliu1102/vue-study/tree/master/VuexTest")]),t._v(" "),e("h1",{attrs:{id:"第-6-章-vuex"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第-6-章-vuex"}},[t._v("#")]),t._v(" 第 6 章：vuex")]),t._v(" "),e("h2",{attrs:{id:"_6-1-vuex-理解"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-vuex-理解"}},[t._v("#")]),t._v(" 6.1. vuex 理解")]),t._v(" "),e("h3",{attrs:{id:"_6-1-1-vuex-是什么"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-1-vuex-是什么"}},[t._v("#")]),t._v(" 6.1.1. vuex 是什么")]),t._v(" "),e("ol",[e("li",[t._v("github站点: https://github.com/vuejs/vuex")]),t._v(" "),e("li",[t._v("在线文档: https://vuex.vuejs.org/zh-cn/")]),t._v(" "),e("li",[t._v("简单来说: 对 vue 应用中多个组件的共享状态进行集中式的管理(读/写)")])]),t._v(" "),e("h3",{attrs:{id:"_6-1-2-状态自管理应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-2-状态自管理应用"}},[t._v("#")]),t._v(" 6.1.2. 状态自管理应用")]),t._v(" "),e("ol",[e("li",[t._v("state: 驱动应用的数据源")]),t._v(" "),e("li",[t._v("view: 以声明方式将 state映射到视图")]),t._v(" "),e("li",[t._v("actions: 响应在 view 上的用户输入导致的状态变化(包含 n 个更新状态的方法)")])]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/b9f3f2b5-5fd6-4b35-b5d2-197724a9b612.jpg",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/b9f3f2b5-5fd6-4b35-b5d2-197724a9b612.jpg",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_6-1-3-多组件共享状态的问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-3-多组件共享状态的问题"}},[t._v("#")]),t._v(" 6.1.3. 多组件共享状态的问题")]),t._v(" "),e("ol",[e("li",[t._v("多个视图依赖于同一状态")]),t._v(" "),e("li",[t._v("来自不同视图的行为需要变更同一状态")]),t._v(" "),e("li",[t._v("以前的解决办法")])]),t._v(" "),e("p",[t._v("a. 将数据以及操作数据的行为都定义在父组件")]),t._v(" "),e("p",[t._v("b. 将数据以及操作数据的行为传递给需要的各个子组件(有可能需要多级传递)")]),t._v(" "),e("ol",[e("li",[t._v("vuex 就是用来解决这个问题的")])]),t._v(" "),e("h2",{attrs:{id:"_6-2-vuex-核心概念和-api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-vuex-核心概念和-api"}},[t._v("#")]),t._v(" 6.2. vuex 核心概念和 API")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/51291d24-9a36-4436-9340-53e0b6ab16fa.png",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/51291d24-9a36-4436-9340-53e0b6ab16fa.png",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"_6-2-1-state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-1-state"}},[t._v("#")]),t._v(" 6.2.1. state")]),t._v(" "),e("ol",[e("li",[t._v("vuex 管理的状态对象")]),t._v(" "),e("li",[t._v("它应该是唯一的")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("const state = {\n    xxx: initValue\n}\n")])])]),e("h3",{attrs:{id:"_6-2-2-mutations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-2-mutations"}},[t._v("#")]),t._v(" 6.2.2. mutations")]),t._v(" "),e("ol",[e("li",[t._v("包含多个直接更新 state 的方法(回调函数)的对象")]),t._v(" "),e("li",[t._v("谁来触发: action 中的 commit('mutation 名称')")]),t._v(" "),e("li",[t._v("只能包含同步的代码, 不能写异步代码")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("const mutations = {\n    yyy (state, {data1}) {\n    // 更新 state 的某个属性\n}\n}\n")])])]),e("h3",{attrs:{id:"_6-2-3-actions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-3-actions"}},[t._v("#")]),t._v(" 6.2.3. actions")]),t._v(" "),e("ol",[e("li",[t._v("包含多个事件回调函数的对象")]),t._v(" "),e("li",[t._v("通过执行: commit()来触发 mutation的调用, 间接更新state")]),t._v(" "),e("li",[t._v("谁来触发: 组件中: $store.dispatch('action 名称', data1) // 'zzz'")]),t._v(" "),e("li",[t._v("可以包含异步代码(定时器, ajax)")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("const actions = {\n    zzz ({commit, state}, data1) {\n    commit('yyy', {data1})\n}\n}\n")])])]),e("h3",{attrs:{id:"_6-2-4-getters"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-4-getters"}},[t._v("#")]),t._v(" 6.2.4. getters")]),t._v(" "),e("ol",[e("li",[t._v("包含多个计算属性(get)的对象")]),t._v(" "),e("li",[t._v("谁来读取: 组件中: $store.getters.xxx")])]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("const getters = {\n    mmm (state) {\n    return ...\n}\n}\n")])])]),e("h3",{attrs:{id:"_6-2-5-modules"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-5-modules"}},[t._v("#")]),t._v(" 6.2.5. modules")]),t._v(" "),e("ol",[e("li",[t._v("包含多个 module")]),t._v(" "),e("li",[t._v("一个 module 是一个store 的配置对象")]),t._v(" "),e("li",[t._v("与一个组件(包含有共享数据)对应")])]),t._v(" "),e("h3",{attrs:{id:"_6-2-6-向外暴露-store-对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-6-向外暴露-store-对象"}},[t._v("#")]),t._v(" 6.2.6. 向外暴露 store 对象")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("export default new Vuex.Store({\n    state,\n    mutations,\n    actions,\n    getters\n})\n")])])]),e("h3",{attrs:{id:"_6-2-7-组件中"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-7-组件中"}},[t._v("#")]),t._v(" 6.2.7. 组件中")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import {mapState, mapGetters, mapActions} from 'vuex'\nexport default {\n    computed: {\n        ...mapState(['xxx']),\n        ...mapGetters(['mmm']),\n    }\n    methods: mapActions(['zzz'])\n}\n{{xxx}} {{mmm}} @click=\"zzz(data)\"\n")])])]),e("h3",{attrs:{id:"_6-2-8-映射-store"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-8-映射-store"}},[t._v("#")]),t._v(" 6.2.8. 映射 store")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import store from './store'\nnew Vue({\n    store\n})\n")])])]),e("h3",{attrs:{id:"_6-2-9-store-对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-9-store-对象"}},[t._v("#")]),t._v(" 6.2.9. store 对象")]),t._v(" "),e("ol",[e("li",[t._v("所有用 vuex 管理的组件中都多了一个属性$store,它就是一个 store 对象")]),t._v(" "),e("li",[t._v("属性:")])]),t._v(" "),e("p",[t._v("state: 注册的 state 对象")]),t._v(" "),e("p",[t._v("getters: 注册的 getters 对象")]),t._v(" "),e("ol",[e("li",[t._v("方法:")])]),t._v(" "),e("p",[t._v("dispatch(actionName, data):分发调用 action")]),t._v(" "),e("h2",{attrs:{id:"_6-3-demo1-计数器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-demo1-计数器"}},[t._v("#")]),t._v(" 6.3. demo1: 计数器")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/47c3cb250eb61e8acf9c9e6567717ec5.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/47c3cb250eb61e8acf9c9e6567717ec5.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("idea 打开vue-demo项目，")]),t._v(" "),e("p",[t._v("https://github.com/wangliu1102/vue-study/tree/master/VuexTest/src-counter")]),t._v(" "),e("p",[t._v("修改build/webpack.base.conf.js文件，")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  entry: {\n    app: './src-counter/main.js'\n  }\n")])])]),e("p",[t._v("然后控制台npm start命令运行")]),t._v(" "),e("h3",{attrs:{id:"_6-3-1-store-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-1-store-js"}},[t._v("#")]),t._v(" 6.3.1. store.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("/**\n* vuex 的 store 对象模块\n*/\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nVue.use(Vuex)\n/*\nstate 对象\n类似于 data\n*/\nconst state = {\n    count: 0 // 初始化状态数据\n}\n/*\nmutations 对象\n包含个方法 : 能直接更新 state\n一个方法就是一个 mutation\nmutation 只能包含更新 state 的同步代码 , 也不会有逻辑\nmutation 由 action 触发调用 : commit('mutationName')\n*/\nconst mutations = {\n    INCREMENT(state) {\n        state.count++\n    },\n    DECREMENT (state) {// ctrl + shift + x\n        state.count--\n    }\n}\n/*\nactions 对象\n包含个方法 : 触发 mutation 调用 , 间接更新 state\n一个方法就是一个 action\naction 中可以有逻辑代码和异步代码\naction 由组件来触发调用 : this.$store.dispatch('actionName')\n*/\nconst actions = {\n    increment ({commit}) {\n        commit('INCREMENT')\n    },\n    decrement ({commit}) {\n        commit('DECREMENT')\n    },\n    incrementIfOdd ({commit, state}) {\n        if(state.count%2===1) {\n            commit('INCREMENT')\n        }\n    },\n    incrementAsync ({commit}) {\n        setTimeout(() => {\n            commit('INCREMENT')\n        }, 1000)\n    }\n}\n/*\ngetters 对象\n包含多个 get 计算计算属性方法\n*/\nconst getters = {\n    oddOrEven (state) {\n        return state.count%2===0 ? ' 偶数' : ' 奇数'\n    },\n    count (state) {\n        return state.count\n    }\n}\n// 向外暴露 store 实例对象\nexport default new Vuex.Store({\n    state,\n    mutations,\n    actions,\n    getters\n})\n")])])]),e("h3",{attrs:{id:"_6-3-2-main-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-2-main-js"}},[t._v("#")]),t._v(" 6.3.2. main.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import Vue from 'vue'\nimport app from './app1.vue'\n// import app from './app.vue'\nimport store from './store'\nnew Vue({\n    el: '#app',\n    render: h => h(app),\n    store // 所有组件都多个一个属性 : $store\n})\n")])])]),e("h3",{attrs:{id:"_6-3-3-app-vue-未优化前"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-3-app-vue-未优化前"}},[t._v("#")]),t._v(" 6.3.3. app.vue( 未优化前)")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<template>\n    <div>\n        <p>clicked: {{$store.state.count}} times, count is {{oddOrEven}}</p>\n        <button @click=\"increment\">+</button>\n        <button @click=\"decrement\">-</button>\n        <button @click=\"incrementIfOdd\">increment if odd</button>\n        <button @click=\"incrementAsync\">increment async</button>\n    </div>\n</template>\n<script>\n    export default {\n        computed: {\n            oddOrEven () {\n                return this.$store.getters.oddOrEven\n            }\n        },\n        methods: {\n            increment () {\n                this.$store.dispatch('increment')\n            },\n            decrement () {\n                this.$store.dispatch('decrement')\n            },\n            incrementIfOdd () {\n                this.$store.dispatch('incrementIfOdd')\n            },\n            incrementAsync () {\n                this.$store.dispatch('incrementAsync')\n            }\n        }\n    }\n<\/script>\n<style>\n</style>\n")])])]),e("h3",{attrs:{id:"_6-3-4-app2-vue-优化后"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-4-app2-vue-优化后"}},[t._v("#")]),t._v(" 6.3.4. app2.vue( 优化后)")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<template>\n    <div>\n        <p>clicked: {{count}} times, count is {{oddOrEven2}}</p>\n        <button @click=\"increment\">+</button>\n        <button @click=\"decrement\">-</button>\n        <button @click=\"incrementIfOdd\">increment if odd</button>\n        <button @click=\"incrementAsync\">increment async</button>\n    </div>\n</template>\n<script>\n    import {mapGetters,mapActions} from'vuex'\n    export default {\n        computed: mapGetters({ // 名称不一样\n            oddOrEven2: 'oddOrEven',\n            count: 'count'\n        }),\n        methods: mapActions(['increment', 'decrement', 'incrementIfOdd','incrementAsync']) // 名称一样\n    }\n<\/script>\n<style>\n</style>\n")])])]),e("h2",{attrs:{id:"_6-4-demo2-todo-list"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-demo2-todo-list"}},[t._v("#")]),t._v(" 6.4. demo2: todo list")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/vuex-todos.gif",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/vuex-todos.gif",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("idea 打开vue-demo项目，")]),t._v(" "),e("p",[t._v("https://github.com/wangliu1102/vue-study/tree/master/VuexTest/src-todos")]),t._v(" "),e("p",[t._v("修改build/webpack.base.conf.js文件，")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("  entry: {\n    app: './src-todos/main.js'\n  }\n")])])]),e("p",[t._v("然后控制台npm start命令运行")]),t._v(" "),e("h3",{attrs:{id:"_6-4-1-store-types-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-1-store-types-js"}},[t._v("#")]),t._v(" 6.4.1. store/types.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("/**\n* 包含多个 mutation name\n*/\nexport const RECEIVE_TODOS = 'receive_todos'\nexport const ADD_TODO = 'add_todo'\nexport const REMOVE_TODO = 'remove_todo'\nexport const DELETE_DONE = 'delete_done'\nexport const UPDATE_ALL_TODOS = 'update_all_todos'\n")])])]),e("h3",{attrs:{id:"_6-4-2-store-mutations-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-2-store-mutations-js"}},[t._v("#")]),t._v(" 6.4.2. store/mutations.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import {RECEIVE_TODOS, ADD_TODO, REMOVE_TODO, DELETE_DONE, UPDATE_ALL_TODOS} from './types'\nexport default {\n    [RECEIVE_TODOS] (state, {todos}) {\n        state.todos = todos\n    },\n    [ADD_TODO] (state, {todo}) {\n        state.todos.unshift(todo)\n    },\n    [REMOVE_TODO] (state, {index}) {\n        state.todos.splice(index, 1)\n    },\n    [DELETE_DONE] (state) {\n        state.todos = state.todos.filter(todo => !todo.complete)\n    },\n    [UPDATE_ALL_TODOS] (state, {isCheck}) {\n        state.todos.forEach(todo => todo.complete = isCheck)\n    }\n}\n")])])]),e("h3",{attrs:{id:"_6-4-3-store-actions-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-3-store-actions-js"}},[t._v("#")]),t._v(" 6.4.3. store/actions.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import storageUtil from '../util/storageUtil'\nimport {RECEIVE_TODOS, ADD_TODO, REMOVE_TODO, DELETE_DONE, UPDATE_ALL_TODOS} from './types'\nexport default {\n    readTodo ({commit}){\n        setTimeout(() => {\n            const todos = storageUtil.fetch()\n            // 提交 commit 触发 mutation 调用\n            commit(RECEIVE_TODOS, {todos})\n        }, 1000)\n    },\n    addTodo ({commit}, todo) {\n        commit(ADD_TODO, {todo})\n    },\n    removeTodo ({commit}, index) {\n        commit(REMOVE_TODO,{index})\n    },\n    deleteDone ({commit}) {\n        commit(DELETE_DONE)\n    },\n    updateAllTodos ({commit}, isCheck) {\n        commit(UPDATE_ALL_TODOS, {isCheck})\n    }\n}\n")])])]),e("h3",{attrs:{id:"_6-4-4-store-getters-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-4-store-getters-js"}},[t._v("#")]),t._v(" 6.4.4. store/getters.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("export default {\n    todos (state) {\n        return state.todos\n    },\n    totalSize (state) {\n        return state.todos.length\n    },\n    completeSize (state) {\n        return state.todos.reduce((preTotal,todo) => {\n            return preTotal + (todo.complete ? 1: 0)\n        }, 0)\n    },\n    isAllComplete (state, getters) {\n        return getters.totalSize===getters.completeSize && getters.totalSize>0\n    }\n}\n")])])]),e("h3",{attrs:{id:"_6-4-5-store-index-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-5-store-index-js"}},[t._v("#")]),t._v(" 6.4.5. store/index.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import Vue from 'vue'\nimport Vuex from 'vuex'\nimport mutations from './mutations'\nimport actions from'./actions'\nimport getters from'./getters'\nVue.use(Vuex)\nconst state = {\n    todos: []\n}\nexport default new Vuex.Store({\n    state,\n    mutations,\n    actions,\n    getters\n})\n")])])]),e("h3",{attrs:{id:"_6-4-6-components-app-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-6-components-app-vue"}},[t._v("#")]),t._v(" 6.4.6. components/app.vue")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<template>\n    <div class=\"todo-container\">\n        <div class=\"todo-wrap\">\n            <todo-header></todo-header>\n            <todo-main></todo-main>\n            <todo-footer></todo-footer>\n        </div>\n    </div>\n</template>\n<script>\nimport todoHeader from './todoHeader.vue'\nimport todoMain from './todoMain.vue'\nimport todoFooter from './todoFooter.vue'\nimport storageUtil from '../util/storageUtil'\nexport default {\n    created () {\n        // 模拟异步读取数据\n        this.$store.dispatch('readTodo')\n    },\n    components: {\n        todoHeader,\n        todoMain,\n        todoFooter\n    }\n}\n<\/script>\n<style>\n.todo-container {\n    width: 600px;\n    margin: 0 auto;\n}\n.todo-container .todo-wrap {\n    padding: 10px;\n    border: 1px solid #ddd;\n    border-radius: 5px;\n}\n</style>\n")])])]),e("h3",{attrs:{id:"_6-4-7-components-todoheader-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-7-components-todoheader-vue"}},[t._v("#")]),t._v(" 6.4.7. components/todoHeader.vue")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<template>\n    <div class="todo-header">\n        <input type="text" placeholder=" 请输入你的任务名称，按回车键确认" v-model="title" @keyup.enter="addItem"/>\n    </div>\n</template>\n<script type="text/ecmascript-6">\n    export default {\n        data () {\n            return {\n                title: null\n            }\n        },\n        methods: {\n            addItem () {\n                const title = this.title && this.title.trim()\n                if (title) {\n                    const todo = {\n                        title,\n                        complete: false\n                    }\n                    this.$store.dispatch(\'addTodo\', todo)\n                    this.title = null\n                }\n            }\n        }\n}\n<\/script>\n<style>\n.todo-header input {\n    width: 560px;\n    height: 28px;\n    font-size: 14px;\n    border: 1px solid #ccc;\n    border-radius: 4px;\n    padding: 4px 7px;\n}\n.todo-header input:focus {\n    outline: none;\n    border-color: rgba(82, 168, 236, 0.8);\n    box-shadow: inset 0 1px 1px rgba(0, 0,0, 0.075), 0 08px rgba(82, 168, 236, 0.6);\n}\n</style>\n')])])]),e("h3",{attrs:{id:"_6-4-8-components-todomain-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-8-components-todomain-vue"}},[t._v("#")]),t._v(" 6.4.8. components/todoMain.vue")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<template>\n    <ul class="todo-main">\n        <todo-item v-for="(todo, index) in todos" :todo="todo":key="index" :index="index"></todo-item>\n    </ul>\n</template>\n<script type="text/ecmascript-6">\nimport todoItem from \'./todoItem\'\nimport storageUtil from \'../util/storageUtil\'\nexport default {\n    components: {\n        todoItem\n    },\n    computed: {\n        todos () {\n            return this.$store.getters.todos\n        }\n    },\n    watch: {\n        todos: {// 深度监视 todos, 一旦有变化立即保存\n            handler: storageUtil.save,\n            deep: true\n        }\n    },\n}\n<\/script>\n<style>\n.todo-main {\n    margin-left: 0px;\n    border: 1px solid #ddd;\n    border-radius: 2px;\n    padding: 0px;\n}\n.todo-empty {\n    height: 40px;\n    line-height: 40px;\n    border: 1px solid #ddd;\n    border-radius: 2px;\n    padding-left: 5px;\n    margin-top: 10px;\n}\n</style>\n')])])]),e("h3",{attrs:{id:"_6-4-9-components-todoitem-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-9-components-todoitem-vue"}},[t._v("#")]),t._v(" 6.4.9. components/todoItem.vue")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('<template>\n    <li :style="{background: libg}" @mouseenter="handleStyle(true)" @mouseleave="handleStyle(false)">\n        <label>\n            <input type="checkbox" v-model="todo.complete"/>\n            <span>{{todo.title}}</span>\n        </label>\n        <button class="btn btn-danger" v-show="isShown" @click="deleteItem">删除</button>\n    </li>\n</template>\n<script type="text/ecmascript-6">\n    export default {\n        props: [\'todo\', \'index\'],\n        data () {\n            return {\n                isShown: false,\n                libg: \'#fff\'\n            }\n        },\n        methods: {\n            handleStyle (isEnter) {\n                if (isEnter) {\n                    this.isShown = true\n                    this.libg = \'#ddd\'\n                } else {\n                    this.isShown = false\n                    this.libg = \'#fff\'\n                }\n            },\n            deleteItem () {\n                const {todo, deleteTodo, index} = this\n                if (window.confirm(` 确定删除${todo.title} 的评论吗?`)) {\n                    // deleteTodo(index)\n                    this.$store.dispatch(\'removeTodo\', index)\n                }\n            }\n        }\n}\n<\/script>\n<style>\nli {\n    list-style: none;\n    height: 36px;\n    line-height: 36px;\n    padding: 0 5px;\n    border-bottom: 1px solid #ddd;\n}\nli label {\n    float: left;\n    cursor: pointer;\n}\nli label li input {\n    vertical-align: middle;\n    margin-right: 6px;\n    position: relative;\n    top: -1px;\n}\nli button {\n    float: right;\n    display: none;\n    margin-top: 3px;\n}\nli:before {\n    content: initial;\n}\nli:last-child {\n    border-bottom: none;\n}\n</style>\n')])])]),e("h3",{attrs:{id:"_6-4-10-components-todofooter-vue"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-10-components-todofooter-vue"}},[t._v("#")]),t._v(" 6.4.10. components/todoFooter.vue")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("<template>\n    <div class=\"todo-footer\">\n        <label>\n            <input type=\"checkbox\" v-model=\"isAllDone\"/>\n        </label>\n        <span>\n            <span>已完成{{completeSize}}</span> / 全部{{totalSize}}\n        </span>\n        <button class=\"btn btn-danger\" @click=\"deleteDone\" v-show=\"completeSize>0\">清除已完成任务</button>\n    </div>\n</template>\n<script>\nimport {mapGetters,mapActions} from 'vuex'\nexport default {\n    methods: mapActions(['deleteDone']),\n    computed: {\n        isAllDone: {\n            get () {\n                return this.$store.getters.isAllComplete\n            },\n            set (value) {\n                //this.$emit('updateTodos', value)\n                this.$store.dispatch('updateAllTodos', value)\n            }\n        },\n        ...mapGetters(['completeSize', 'totalSize'])\n    }\n}\n/*\nconst arr1 = [1, 3,5]\nconst arr2 = [4, ...arr1, 7]\nconst obj = {\n    a: 1,\n    b () {\n    }\n}\nconst obj2 = {\n    c: 3,\n    ...obj\n}*/\n<\/script>\n<style>\n.todo-footer {\n    height: 40px;\n    line-height: 40px;\n    padding-left: 6px;\n    margin-top: 5px;\n}\n.todo-footer label {\n    display: inline-block;\n    margin-right: 20px;\n    cursor: pointer;\n}\n.todo-footer label input {\n    position: relative;\n    top: -1px;\n    vertical-align: middle;\n    margin-right: 5px;\n}\n.todo-footer button{\n    float: right;\n    margin-top: 5px;\n}\n</style>\n")])])]),e("h3",{attrs:{id:"_6-4-11-util-storageutil-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-11-util-storageutil-js"}},[t._v("#")]),t._v(" 6.4.11. util/storageUtil.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("var STORAGE_KEY = 'todos'\nexport default {\n    fetch () {\n        return JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]')\n    },\n    save (todos) {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(todos))\n    }\n}\n")])])]),e("h3",{attrs:{id:"_6-4-12-base-css"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-12-base-css"}},[t._v("#")]),t._v(" 6.4.12. base.css")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("body {\n    background: #fff;\n}\n.btn {\n    display: inline-block;\n    padding: 4px 12px;\n    margin-bottom: 0;\n    font-size: 14px;\n    line-height: 20px;\n    text-align: center;\n    vertical-align: middle;\n    cursor: pointer;\n    box-shadow: inset 01px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);\n    border-radius: 4px;\n}\n.btn-danger {\n    color: #fff;\n    background-color: #da4f49;\n    border: 1px solid #bd362f;\n}\n.btn-danger:hover {\n    color: #fff;\n    background-color: #bd362f;\n}\n.btn:focus {\n    outline: none;\n}\n")])])]),e("h3",{attrs:{id:"_6-4-13-main-js"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-4-13-main-js"}},[t._v("#")]),t._v(" 6.4.13. main.js")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("import Vue from 'vue'\nimport App from './components/app'\nimport store from './store'\nimport './base.css'\n/* eslint-disable no-new */\nnew Vue({\n    el: '#app',\n    render: h => h(App),\n    store\n})\n")])])]),e("h2",{attrs:{id:"_6-5-vuex-结构分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-5-vuex-结构分析"}},[t._v("#")]),t._v(" 6.5. vuex 结构分析")]),t._v(" "),e("h2",{attrs:{id:"-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#-4"}},[t._v("#")]),t._v(" "),e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/dc6aee3d-0c78-4c40-b268-299eccb6829e.jpg",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/dc6aee3d-0c78-4c40-b268-299eccb6829e.jpg",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[e("strong",[t._v("Code")]),t._v("：https://github.com/wangliu1102/vue-study/tree/master/VueSource")]),t._v(" "),e("h1",{attrs:{id:"第-7-章-vue-源码分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#第-7-章-vue-源码分析"}},[t._v("#")]),t._v(" 第 7 章：vue 源码分析")]),t._v(" "),e("h2",{attrs:{id:"_7-1-说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-说明"}},[t._v("#")]),t._v(" 7.1. 说明")]),t._v(" "),e("ol",[e("li",[t._v("分析 vue 作为一个 MVVM 框架的基本实现原理")])]),t._v(" "),e("p",[t._v("数据代理")]),t._v(" "),e("p",[t._v("模板解析")]),t._v(" "),e("p",[t._v("数据绑定")]),t._v(" "),e("ol",[e("li",[t._v("不直接看 vue.js的源码")]),t._v(" "),e("li",[t._v("剖析 github 上某基友仿 vue 实现的 mvvm 库")]),t._v(" "),e("li",[t._v("地址: https://github.com/DMQ/mvvm")])]),t._v(" "),e("h2",{attrs:{id:"_7-2-准备知识"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-准备知识"}},[t._v("#")]),t._v(" 7.2. 准备知识")]),t._v(" "),e("ol",[e("li",[t._v("[].slice.call(lis): 将伪数组转换为真数组")]),t._v(" "),e("li",[t._v("node.nodeType: 得到节点类型")]),t._v(" "),e("li",[t._v("Object.defineProperty(obj, propName, {}): 给对象添加/修改属性(指定描述符)")])]),t._v(" "),e("p",[t._v("configurable: true/false 是否可以重新 define")]),t._v(" "),e("p",[t._v("enumerable: true/false 是否可以枚举(for..in / keys())")]),t._v(" "),e("p",[t._v("value: 指定初始值")]),t._v(" "),e("p",[t._v("writable: true/false value 是否可以修改")]),t._v(" "),e("p",[t._v("get: 回调函数, 用来得到当前属性值")]),t._v(" "),e("p",[t._v("set: 回调函数, 用来监视当前属性值的变化")]),t._v(" "),e("ol",[e("li",[t._v("Object.keys(obj): 得到对象自身可枚举的属性名的数组")]),t._v(" "),e("li",[t._v("DocumentFragment: 文档碎片(高效批量更新多个节点)")]),t._v(" "),e("li",[t._v("obj.hasOwnProperty(prop): 判断 prop 是否是 obj自身的属性")])]),t._v(" "),e("h2",{attrs:{id:"_7-3-数据代理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-数据代理"}},[t._v("#")]),t._v(" 7.3. 数据代理")]),t._v(" "),e("ol",[e("li",[t._v("数据代理: 通过一个对象代理对另一个对象(在前一个对象内部)中属性的操作(读/写)")]),t._v(" "),e("li",[t._v("vue 数据代理: 通过 vm 对象来代理 data 对象中所有属性的操作")]),t._v(" "),e("li",[t._v("好处: 更方便的操作 data 中的数据")]),t._v(" "),e("li",[t._v("基本实现流程")])]),t._v(" "),e("p",[t._v("a. 通过 Object.defineProperty()给vm 添加与 data 对象的属性对应的属性描述符")]),t._v(" "),e("p",[t._v("b. 所有添加的属性都包含 getter/setter")]),t._v(" "),e("p",[t._v("c. getter/setter内部去操作 data 中对应的属性数据")]),t._v(" "),e("h2",{attrs:{id:"_7-4-模板解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-模板解析"}},[t._v("#")]),t._v(" 7.4. 模板解析")]),t._v(" "),e("p",[t._v("52_尚硅谷_Vue_源码分析_模板解析_大括号表达式.avi")]),t._v(" "),e("h3",{attrs:{id:"_7-4-1-模板解析的基本流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-1-模板解析的基本流程"}},[t._v("#")]),t._v(" 7.4.1. 模板解析的基本流程")]),t._v(" "),e("ol",[e("li",[t._v("将 el 的所有子节点取出, 添加到一个新建的文档 fragment 对象中")]),t._v(" "),e("li",[t._v("对 fragment 中的所有层次子节点递归进行编译解析处理")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("对大括号表达式文本节点进行解析")])]),t._v(" "),e("li",[e("p",[t._v("对元素节点的指令属性进行解析")])]),t._v(" "),e("li",[e("p",[t._v("事件指令解析")])]),t._v(" "),e("li",[e("p",[t._v("一般指令解析")])])]),t._v(" "),e("ol",[e("li",[t._v("将解析后的 fragment 添加到 el 中显示")])]),t._v(" "),e("h3",{attrs:{id:"_7-4-2-模板解析-1-大括号表达式解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-2-模板解析-1-大括号表达式解析"}},[t._v("#")]),t._v(" 7.4.2. 模板解析(1): 大括号表达式解析")]),t._v(" "),e("ol",[e("li",[t._v("根据正则对象得到匹配出的表达式字符串: 子匹配/RegExp.$1 name")]),t._v(" "),e("li",[t._v("从 data 中取出表达式对应的属性值")]),t._v(" "),e("li",[t._v("将属性值设置为文本节点的 textContent")])]),t._v(" "),e("h3",{attrs:{id:"_7-4-3-模板解析-2-事件指令解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-3-模板解析-2-事件指令解析"}},[t._v("#")]),t._v(" 7.4.3. 模板解析(2): 事件指令解析")]),t._v(" "),e("ol",[e("li",[t._v("从指令名中取出事件名")]),t._v(" "),e("li",[t._v("根据指令的值(表达式)从methods 中得到对应的事件处理函数对象")]),t._v(" "),e("li",[t._v("给当前元素节点绑定指定事件名和回调函数的 dom 事件监听")]),t._v(" "),e("li",[t._v("指令解析完后, 移除此指令属性")])]),t._v(" "),e("h3",{attrs:{id:"_7-4-4-模板解析-3-一般指令解析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-4-模板解析-3-一般指令解析"}},[t._v("#")]),t._v(" 7.4.4. 模板解析(3): 一般指令解析")]),t._v(" "),e("ol",[e("li",[t._v("得到指令名和指令值(表达式) text/html/class msg/myClass")]),t._v(" "),e("li",[t._v("从 data 中根据表达式得到对应的值")]),t._v(" "),e("li",[t._v("根据指令名确定需要操作元素节点的什么属性")])]),t._v(" "),e("ul",[e("li",[e("p",[t._v("v-text---textContent 属性")])]),t._v(" "),e("li",[e("p",[t._v("v-html---innerHTML 属性")])]),t._v(" "),e("li",[e("p",[t._v("v-class--className 属性")])])]),t._v(" "),e("ol",[e("li",[t._v("将得到的表达式的值设置到对应的属性上")]),t._v(" "),e("li",[t._v("移除元素的指令属性")])]),t._v(" "),e("h2",{attrs:{id:"_7-5-数据绑定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-数据绑定"}},[t._v("#")]),t._v(" 7.5. 数据绑定")]),t._v(" "),e("h3",{attrs:{id:"_7-5-1-数据绑定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-1-数据绑定"}},[t._v("#")]),t._v(" 7.5.1. 数据绑定")]),t._v(" "),e("p",[t._v("一旦更新了 data 中的某个属性数据, 所有界面上直接使用或间接使用了此属性的节点都会更新。")]),t._v(" "),e("h3",{attrs:{id:"_7-5-2-数据劫持"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-2-数据劫持"}},[t._v("#")]),t._v(" 7.5.2. 数据劫持")]),t._v(" "),e("ol",[e("li",[t._v("数据劫持是 vue 中用来实现数据绑定的一种技术")]),t._v(" "),e("li",[t._v("基本思想: 通过 defineProperty()来监视 data 中所有属性(任意层次)数据的变化, 一旦变化就去更新界面。")])]),t._v(" "),e("h3",{attrs:{id:"_7-5-3-四个重要对象"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-3-四个重要对象"}},[t._v("#")]),t._v(" 7.5.3. 四个重要对象")]),t._v(" "),e("ol",[e("li",[t._v("Observer")])]),t._v(" "),e("p",[t._v("a. 用来对 data 所有属性数据进行劫持的构造函数")]),t._v(" "),e("p",[t._v("b. 给 data 中所有属性重新定义属性描述(get/set)")]),t._v(" "),e("p",[t._v("c. 为 data 中的每个属性创建对应的 dep 对象")]),t._v(" "),e("ol",[e("li",[t._v("Dep(Depend)")])]),t._v(" "),e("p",[t._v("a. data 中的每个属性(所有层次)都对应一个 dep 对象")]),t._v(" "),e("p",[t._v("b. 创建的时机:")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("在初始化 define data 中各个属性时创建对应的 dep对象")])]),t._v(" "),e("li",[e("p",[t._v("在 data中的某个属性值被设置为新的对象时")])])]),t._v(" "),e("p",[t._v("c. 对象的结构")]),t._v(" "),e("p",[t._v("{")]),t._v(" "),e("p",[t._v("id, // 每个 dep 都有一个唯一的 id")]),t._v(" "),e("p",[t._v("subs //包含 n 个对应 watcher 的数组(subscribes 的简写)")]),t._v(" "),e("p",[t._v("}")]),t._v(" "),e("p",[t._v("d. subs 属性说明")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("当 watcher 被创建时, 内部将当前 watcher 对象添加到对应的 dep 对象的 subs 中")])]),t._v(" "),e("li",[e("p",[t._v("当此 data 属性的值发生改变时, subs 中所有的 watcher 都会收到更新的通知,从而最终更新对应的界面")])])]),t._v(" "),e("ol",[e("li",[t._v("Compiler")])]),t._v(" "),e("p",[t._v("a. 用来解析模板页面的对象的构造函数(一个实例)")]),t._v(" "),e("p",[t._v("b. 利用 compile对象解析模板页面")]),t._v(" "),e("p",[t._v("c. 每解析一个表达式(非事件指令)都会创建一个对应的 watcher 对象, 并建立 watcher与 dep 的关系")]),t._v(" "),e("p",[t._v("d. complie 与 watcher 关系: 一对多的关系")]),t._v(" "),e("ol",[e("li",[t._v("Watcher")])]),t._v(" "),e("p",[t._v("a. 模板中每个非事件指令或表达式都对应一个 watcher 对象")]),t._v(" "),e("p",[t._v("b. 监视当前表达式数据的变化")]),t._v(" "),e("p",[t._v("c. 创建的时机: 在初始化编译模板时")]),t._v(" "),e("p",[t._v("d. 对象的组成")]),t._v(" "),e("p",[t._v("{")]),t._v(" "),e("p",[t._v("vm, //vm 对象")]),t._v(" "),e("p",[t._v("exp, //对应指令的表达式")]),t._v(" "),e("p",[t._v("cb,//当表达式所对应的数据发生改变的回调函数")]),t._v(" "),e("p",[t._v("value, //表达式当前的值")]),t._v(" "),e("p",[t._v("depIds //表达式中各级属性所对应的 dep 对象的集合对象")]),t._v(" "),e("p",[t._v("//属性名为 dep 的 id,属性值为 dep")]),t._v(" "),e("p",[t._v("}")]),t._v(" "),e("ol",[e("li",[t._v("总结: dep与 watcher 的关系: 多对多")])]),t._v(" "),e("p",[t._v("a. data 中的一个属性对应一个 dep, 一个 dep 中可能包含多个 watcher(模板中有几个表达式使用到了同一个属性)")]),t._v(" "),e("p",[t._v("b. 模板中一个非事件表达式对应一个 watcher, 一个 watcher 中可能包含多个 dep(表达式是多层: a.b)")]),t._v(" "),e("p",[t._v("c. 数据绑定使用到 2个核心技术")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("defineProperty()")])]),t._v(" "),e("li",[e("p",[t._v("消息订阅与发布")])])]),t._v(" "),e("h2",{attrs:{id:"_7-6-mvvm-原理图分析"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-6-mvvm-原理图分析"}},[t._v("#")]),t._v(" 7.6. MVVM 原理图分析")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/kennard-owen/vue-study/blob/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/08cef7f2-ccda-4e29-ab63-9500d45c27fe.jpg",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://github.com/kennard-owen/vue-study/raw/master/72416368-f5f4-460f-9585-2cc3163a8aa1/128/index_files/08cef7f2-ccda-4e29-ab63-9500d45c27fe.jpg",alt:"img"}}),e("OutboundLink")],1)]),t._v(" "),e("h2",{attrs:{id:"_7-7-双向数据绑定"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_7-7-双向数据绑定"}},[t._v("#")]),t._v(" 7.7. 双向数据绑定")]),t._v(" "),e("ol",[e("li",[t._v("双向数据绑定是建立在单向数据绑定(model==>View)的基础之上的")]),t._v(" "),e("li",[t._v("双向数据绑定的实现流程:")])]),t._v(" "),e("p",[t._v("a. 在解析 v-model 指令时, 给当前元素添加 input 监听")]),t._v(" "),e("p",[t._v("b. 当 input 的 value 发生改变时, 将最新的值赋值给当前表达式所对应的 data 属性")])])}),[],!1,null,null,null);e.default=s.exports}}]);