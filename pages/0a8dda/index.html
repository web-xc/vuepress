<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Web APIs第五天 | xc-book</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="xc-book">
    
    <link rel="preload" href="/assets/css/0.styles.b94df8a9.css" as="style"><link rel="preload" href="/assets/js/app.e901f4e3.js" as="script"><link rel="preload" href="/assets/js/2.980f3844.js" as="script"><link rel="preload" href="/assets/js/49.0970340d.js" as="script"><link rel="prefetch" href="/assets/js/10.6e07c05a.js"><link rel="prefetch" href="/assets/js/11.a3f6963f.js"><link rel="prefetch" href="/assets/js/12.058b9456.js"><link rel="prefetch" href="/assets/js/13.734472eb.js"><link rel="prefetch" href="/assets/js/14.da988918.js"><link rel="prefetch" href="/assets/js/15.58f322d7.js"><link rel="prefetch" href="/assets/js/16.f3568851.js"><link rel="prefetch" href="/assets/js/17.462bad11.js"><link rel="prefetch" href="/assets/js/18.a51cfb89.js"><link rel="prefetch" href="/assets/js/19.033fe3ef.js"><link rel="prefetch" href="/assets/js/20.243572e0.js"><link rel="prefetch" href="/assets/js/21.e1607606.js"><link rel="prefetch" href="/assets/js/22.7ac919e4.js"><link rel="prefetch" href="/assets/js/23.3ad01538.js"><link rel="prefetch" href="/assets/js/24.284d736d.js"><link rel="prefetch" href="/assets/js/25.3828d620.js"><link rel="prefetch" href="/assets/js/26.1d965fef.js"><link rel="prefetch" href="/assets/js/27.b66299cd.js"><link rel="prefetch" href="/assets/js/28.a51756b9.js"><link rel="prefetch" href="/assets/js/29.ef7663f7.js"><link rel="prefetch" href="/assets/js/3.16755e44.js"><link rel="prefetch" href="/assets/js/30.437b3d8f.js"><link rel="prefetch" href="/assets/js/31.81c131bc.js"><link rel="prefetch" href="/assets/js/32.716395c3.js"><link rel="prefetch" href="/assets/js/33.75b4fcc5.js"><link rel="prefetch" href="/assets/js/34.8661e50a.js"><link rel="prefetch" href="/assets/js/35.baadd8b6.js"><link rel="prefetch" href="/assets/js/36.1fc61857.js"><link rel="prefetch" href="/assets/js/37.ca9b7c0e.js"><link rel="prefetch" href="/assets/js/38.df39ca9a.js"><link rel="prefetch" href="/assets/js/39.8511272c.js"><link rel="prefetch" href="/assets/js/4.9d085cb1.js"><link rel="prefetch" href="/assets/js/40.7e91ccf9.js"><link rel="prefetch" href="/assets/js/41.2fde20cf.js"><link rel="prefetch" href="/assets/js/42.112a8cdb.js"><link rel="prefetch" href="/assets/js/43.1c62f70c.js"><link rel="prefetch" href="/assets/js/44.f4acd8ed.js"><link rel="prefetch" href="/assets/js/45.5f08afb8.js"><link rel="prefetch" href="/assets/js/46.6ddeee37.js"><link rel="prefetch" href="/assets/js/47.6f21f48a.js"><link rel="prefetch" href="/assets/js/48.87d020d3.js"><link rel="prefetch" href="/assets/js/5.2f24edab.js"><link rel="prefetch" href="/assets/js/50.aec91ffc.js"><link rel="prefetch" href="/assets/js/51.33cbf809.js"><link rel="prefetch" href="/assets/js/52.6bf94a4a.js"><link rel="prefetch" href="/assets/js/53.79a765f6.js"><link rel="prefetch" href="/assets/js/54.d7a545b1.js"><link rel="prefetch" href="/assets/js/55.207e1671.js"><link rel="prefetch" href="/assets/js/56.7fc795a4.js"><link rel="prefetch" href="/assets/js/57.affabd98.js"><link rel="prefetch" href="/assets/js/58.4a357210.js"><link rel="prefetch" href="/assets/js/59.abd10466.js"><link rel="prefetch" href="/assets/js/6.4d41e4ec.js"><link rel="prefetch" href="/assets/js/60.ef6061f0.js"><link rel="prefetch" href="/assets/js/61.16e8201b.js"><link rel="prefetch" href="/assets/js/62.c6b2565e.js"><link rel="prefetch" href="/assets/js/63.a770d4b2.js"><link rel="prefetch" href="/assets/js/64.63bc2ab9.js"><link rel="prefetch" href="/assets/js/65.9038fc48.js"><link rel="prefetch" href="/assets/js/66.026d3b56.js"><link rel="prefetch" href="/assets/js/67.5f66cf24.js"><link rel="prefetch" href="/assets/js/68.b2342581.js"><link rel="prefetch" href="/assets/js/69.6d6a85a4.js"><link rel="prefetch" href="/assets/js/7.27e8276c.js"><link rel="prefetch" href="/assets/js/70.83538523.js"><link rel="prefetch" href="/assets/js/71.2e415317.js"><link rel="prefetch" href="/assets/js/72.7b999509.js"><link rel="prefetch" href="/assets/js/73.f49f94fc.js"><link rel="prefetch" href="/assets/js/74.4c991c4a.js"><link rel="prefetch" href="/assets/js/75.ab0bdeea.js"><link rel="prefetch" href="/assets/js/76.8721af83.js"><link rel="prefetch" href="/assets/js/77.d571aa48.js"><link rel="prefetch" href="/assets/js/78.cfc68ac2.js"><link rel="prefetch" href="/assets/js/79.d8f154f6.js"><link rel="prefetch" href="/assets/js/8.b3adff01.js"><link rel="prefetch" href="/assets/js/80.1e804dbc.js"><link rel="prefetch" href="/assets/js/81.773e8acf.js"><link rel="prefetch" href="/assets/js/82.746f1ccb.js"><link rel="prefetch" href="/assets/js/83.4eceeb06.js"><link rel="prefetch" href="/assets/js/84.1390b896.js"><link rel="prefetch" href="/assets/js/85.8d3721e4.js"><link rel="prefetch" href="/assets/js/86.f3bc2a75.js"><link rel="prefetch" href="/assets/js/87.49c778a4.js"><link rel="prefetch" href="/assets/js/88.a4df6651.js"><link rel="prefetch" href="/assets/js/89.458ba699.js"><link rel="prefetch" href="/assets/js/9.ca154568.js"><link rel="prefetch" href="/assets/js/90.d1b45d47.js"><link rel="prefetch" href="/assets/js/91.aa28b80c.js"><link rel="prefetch" href="/assets/js/92.65928058.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b94df8a9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">xc-book</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/HTML/docs.html" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/CSS/docs.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/JS/docs.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/Ajax笔记/docs.html" class="nav-link">
  Ajax笔记
</a></div><div class="nav-item"><a href="/Vue前置基础/docs.html" class="nav-link">
  Vue前置基础
</a></div><div class="nav-item"><a href="/Vue笔记/docs.html" class="nav-link">
  Vue笔记
</a></div><div class="nav-item"><a href="/TS笔记/docs.html" class="nav-link">
  TS笔记
</a></div><div class="nav-item"><a href="/Vue笔记/面试题.html" class="nav-link">
  面试题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.webxc.eu.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/web-xc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.webxc.eu.org/4/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HTML项目
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="qqhttps://tenapi.cn/qqzlk/?qq=2848141597" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://npm.elemecdn.com/webxc@1.0.0/lxfs/wechat.jpg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WeChat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/HTML/docs.html" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/CSS/docs.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/JS/docs.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/Ajax笔记/docs.html" class="nav-link">
  Ajax笔记
</a></div><div class="nav-item"><a href="/Vue前置基础/docs.html" class="nav-link">
  Vue前置基础
</a></div><div class="nav-item"><a href="/Vue笔记/docs.html" class="nav-link">
  Vue笔记
</a></div><div class="nav-item"><a href="/TS笔记/docs.html" class="nav-link">
  TS笔记
</a></div><div class="nav-item"><a href="/Vue笔记/面试题.html" class="nav-link">
  面试题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.webxc.eu.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/web-xc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.webxc.eu.org/4/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HTML项目
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="qqhttps://tenapi.cn/qqzlk/?qq=2848141597" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://npm.elemecdn.com/webxc@1.0.0/lxfs/wechat.jpg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WeChat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/Vue笔记/docs.html" class="sidebar-heading clickable"><span>Vue笔记</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/Vue前置基础/docs.html" class="sidebar-heading clickable"><span>Vue前置基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/TS笔记/docs.html" class="sidebar-heading clickable"><span>Typescript笔记</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/Ajax笔记/docs.html" class="sidebar-heading clickable"><span>Ajax笔记</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JS/docs3.html" class="sidebar-heading clickable"><span>JS进阶和模块化</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JS/docs2.html" class="sidebar-heading clickable open"><span>Web APIs笔记</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/b9f720/" class="sidebar-link">Web APIs第一天</a></li><li><a href="/pages/5282a1/" class="sidebar-link">Web APIs第二天</a></li><li><a href="/pages/3f5218/" class="sidebar-link">Web APIs第三天</a></li><li><a href="/pages/e4c383/" class="sidebar-link">Web APIs第四天</a></li><li><a href="/pages/0a8dda/" aria-current="page" class="active sidebar-link">Web APIs第五天</a></li><li><a href="/pages/5f7fc8/" class="sidebar-link">Web APIs第六天</a></li><li><a href="/pages/a27187/" class="sidebar-link">Web APIs第七天</a></li><li><a href="/pages/292c25/" class="sidebar-link">WebAPIs学习笔记</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JS/docs1.html" class="sidebar-heading clickable"><span>JS基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/CSS/docs.html" class="sidebar-heading clickable"><span>CSS移动开发</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/CSS/docs.html" class="sidebar-heading clickable"><span>CSS布局</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/HTML/docs.html" class="sidebar-heading clickable"><span>HTML基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/高级HTML/docs.html" class="sidebar-heading clickable"><span>高级HTML+CSS</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="dom-网页特效"><a href="#dom-网页特效" class="header-anchor">#</a> DOM- 网页特效</h3> <h2 id="_1-滚动事件和加载事件"><a href="#_1-滚动事件和加载事件" class="header-anchor">#</a> 1. 滚动事件和加载事件</h2> <h3 id="_1-滚动事件scroll"><a href="#_1-滚动事件scroll" class="header-anchor">#</a> 1. 滚动事件scroll</h3> <ol><li><p>当页面进行滚动时触发的事件</p></li> <li><p>很多网页需要检测用户把页面滚动到某个区域后做一些处理， 比如固定导航栏，比如返回顶部</p></li> <li><p>监听整个页面滚动给 window 或 document 加</p></li> <li><p>监听某个元素的内部滚动直接给某个元素加即可</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code>监听整个页面滚动
<span class="token comment">// 1. 滚动事件 监听整个页面滚动 固定导航/返回顶部</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> num1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
num1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-加载事件load"><a href="#_2-加载事件load" class="header-anchor">#</a> 2. 加载事件load</h3> <ol><li><p>加载外部资源（如图片、外联CSS和JavaScript等）加载完毕时触发的事件</p></li> <li><p>有些时候需要等页面资源全部处理完了做一些事情</p></li> <li><p>老代码喜欢把 script 写在 head 中，这时候直接找 dom 元素找不到</p></li> <li><p>注意：不光可以监听整个页面资源加载完毕，也可以针对某个资源绑定load事件</p></li></ol> <p>监听页面所有资源加载完毕：</p> <div class="language-js extra-class"><pre class="language-js"><code>监听整个页面资源给 window 加
<span class="token comment">// 2. 加载事件 监听页面资源加载完毕才执行load事件</span>
<span class="token comment">// 也可以针对别的资源绑定load事件</span>
<span class="token comment">// 把js写在head上面 导致dom元素找不到 用load事件</span>
<span class="token keyword">let</span> n1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-加载事件domcontentloaded"><a href="#_3-加载事件domcontentloaded" class="header-anchor">#</a> 3. 加载事件DOMContentLoaded</h3> <ol><li>当初始的 HTML 文档被完全加载和解析完成之后，DOMContentLoaded 事件被触发，而无需等待样式表 、图像等完全加载</li></ol> <p>监听页面DOM加载完毕：</p> <div class="language-js extra-class"><pre class="language-js"><code>给 document 添加 DOMContentLoaded 事件
<span class="token comment">// 2. 加载事件 等HTML文档加载完后再加载 无需等样式 图片就可以加载</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_2-scroll家族"><a href="#_2-scroll家族" class="header-anchor">#</a> 2. scroll家族</h2> <ol><li><p>我们想要页面滚动一段距离，比如100px，就让某些元素显示隐藏, 就可以使用scroll 来检测页面滚动的距离~~~</p></li> <li><p>获取宽高: 获取元素的内容总宽高（不包含滚动条）返回值不带单位</p></li> <li><p>scrollWidth和scrollHeight</p></li></ol> <h5 id="获取位置"><a href="#获取位置" class="header-anchor">#</a> 获取位置:</h5> <ol><li><p>获取元素内容往左、往上滚出去看不到的距离</p></li> <li><p>scrollLeft和scrollTop</p></li> <li><p>这两个属性是可以修改的</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. scroll家族 (了解)</span>
<span class="token keyword">let</span> num1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
<span class="token comment">// // 当前宽度 不包含滚动条</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>scrollWidth<span class="token punctuation">)</span>
<span class="token comment">// // 内容高度</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">)</span>

<span class="token comment">// // 2. 被卷去的头部和左侧</span>
num1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="开发中-我们经常检测页面滚动的距离-比如页面滚动100像素-就可以显示一个元素-或者固定一个元素"><a href="#开发中-我们经常检测页面滚动的距离-比如页面滚动100像素-就可以显示一个元素-或者固定一个元素" class="header-anchor">#</a> 开发中，我们经常检测页面滚动的距离，比如页面滚动100像素，就可以显示一个元素，或者固定一个元素</h5> <ol><li>document.documentElement HTML 文档返回对象为HTML元素</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 3. 检测页面滚动的距离</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 返回HTML元素距离</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop<span class="token punctuation">)</span>
    <span class="token comment">// 可以给值/修改 但不要带单位</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token number">200</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ol><li><p>被卷去的头部或者左侧用那个属性？是否可以读取和修改？</p></li> <li><p>可以读取，也可以修改（赋值）</p></li></ol> <h4 id="页面滚动显示返回顶部按钮"><a href="#页面滚动显示返回顶部按钮" class="header-anchor">#</a> 页面滚动显示返回顶部按钮</h4> <div class="language-js extra-class"><pre class="language-js"><code>需求：当页面滚动<span class="token number">500</span>像素，就显示返回顶部按钮，否则隐藏， 同时点击按钮，则返回顶部
①：用到页面滚动事件
②：检测页面滚动大于等于<span class="token number">100</span>像素，则显示按钮
③：点击按钮，则让页面的scrollTop 重置为 <span class="token number">0</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;backtop&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;./images/close2.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;javascript:;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.backtop'</span><span class="token punctuation">)</span>
<span class="token comment">// 1. 页面滚动事件</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 2. 页面检测滚动距离</span>
    <span class="token keyword">let</span> num1 <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop
    <span class="token comment">// 3. 判断显示隐藏</span>
    <span class="token comment">// 如果大于200 就显示 小于隐藏</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num1 <span class="token operator">&gt;=</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        btn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'block'</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        btn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 4. 点击链接返回顶部</span>
btn<span class="token punctuation">.</span>children<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_3-offset家族"><a href="#_3-offset家族" class="header-anchor">#</a> 3.offset家族</h2> <ol><li><p>使用场景： 前面案例滚动多少距离，都是我们自己算的，最好是页面 滚动到某个元素，就可以做某些事</p></li> <li><p>简单说，就是通过js的方式，得到元素在页面中的位置 这样我们可以做，页面滚动到这个位置，就可以返回 顶部的小盒子显示…</p></li></ol> <h4 id="获取宽高"><a href="#获取宽高" class="header-anchor">#</a> 获取宽高:</h4> <ol><li>获取元素的自身宽高、包含元素自身设置的宽高、padding、border, offsetWidth和offsetHeight</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. offset家族 宽高 (了解)</span>
<span class="token keyword">let</span> num1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
<span class="token comment">// 盒子大小 = 盒子本身宽高 + padding + border</span>
<span class="token comment">// 盒子多大 offset就多大</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>offsetWidth<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">)</span>
</code></pre></div><h4 id="获取位置-2"><a href="#获取位置-2" class="header-anchor">#</a> 获取位置:</h4> <ol><li><p>获取元素距离自己定位父级元素的左、上距离</p></li> <li><p>offsetLeft和offsetTop 注意是只读属性</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 2. 位置以带定位的父级 如果没有就以左上角为准</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>offsetTop<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">)</span>
</code></pre></div><h4 id="仿京东固定导航栏案例"><a href="#仿京东固定导航栏案例" class="header-anchor">#</a> 仿京东固定导航栏案例</h4> <div class="language-js extra-class"><pre class="language-js"><code>当页面滚动到秒杀模块，导航栏自动滑入，否则滑出
①：用到页面滚动事件
②：检测页面滚动大于等于 秒杀模块的位置 则滑入，否则滑出
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;header&quot;</span><span class="token operator">&gt;</span>我是顶部导航栏<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;sk&quot;</span><span class="token operator">&gt;</span>秒杀模块<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;backtop&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;./images/close2.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;javascript:;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">let</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.sk'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> head <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.header'</span><span class="token punctuation">)</span>
<span class="token comment">// 1.页面滚动事件</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 2.检测页面滚动距离 &gt;= 秒杀模块的offsetTop 则划入</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">&gt;=</span> box<span class="token punctuation">.</span>offsetTop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 3.如果大于则显示 小于则-80px</span>
        head<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token string">'0px'</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        head<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token string">'-80px'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="电梯导航案例"><a href="#电梯导航案例" class="header-anchor">#</a> 电梯导航案例</h4> <div class="language-js extra-class"><pre class="language-js"><code>需求：点击可以页面调到指定效果
①：点击当前 小导航，当前添加active，其余移除active
②：得到对应 内容 的 offsetTop值
③：让页面的 scrollTop 走到 对应 内容 的 offsetTop
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;aside&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item active&quot;</span><span class="token operator">&gt;</span>男装<span class="token operator">/</span>女装<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>儿童服装<span class="token operator">/</span>游乐园<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>电子产品<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span>电影<span class="token operator">/</span>美食<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;content&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;neirong content1&quot;</span><span class="token operator">&gt;</span>男装<span class="token operator">/</span>女装<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;neirong content2&quot;</span><span class="token operator">&gt;</span>儿童服装<span class="token operator">/</span>游乐园<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;neirong content3&quot;</span><span class="token operator">&gt;</span>电子产品<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;neirong content4&quot;</span><span class="token operator">&gt;</span>电影<span class="token operator">/</span>美食<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.item'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.neirong'</span><span class="token punctuation">)</span>
<span class="token comment">// 1. 点击谁谁添加类</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> num1 <span class="token operator">&lt;</span> btn<span class="token punctuation">.</span>length<span class="token punctuation">;</span> num1<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    btn<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.aside .active'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span>
        <span class="token comment">// 2. 右侧内容跟随走动</span>
        <span class="token comment">// 让页面滚动对应offsettop值位置</span>
        document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> btn1<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token punctuation">.</span>offsetTop
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-client家族"><a href="#_4-client家族" class="header-anchor">#</a> 4.client家族</h2> <ol><li><p>获取宽高：获取元素的可见部分宽高（不包含边框，滚动条等）, clientWidth和clientHeight</p></li> <li><p>获取位置： 获取左边框和上边框宽度, clientLeft和clientTop 注意是只读属性</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> num1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
<span class="token comment">// 可见区域的宽高 不包含滚动条 边框...</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>clientWidth<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>clientHeight<span class="token punctuation">)</span>
<span class="token comment">// 3. client TOP/Left (了解) 就是边框的宽高</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>clientTop<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>clientLeft<span class="token punctuation">)</span>
</code></pre></div><h4 id="会在窗口尺寸改变的时候触发事件-resize"><a href="#会在窗口尺寸改变的时候触发事件-resize" class="header-anchor">#</a> 会在窗口尺寸改变的时候触发事件：resize</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 2. resize事件 当窗口变化时触发的事件</span>
window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'resize'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 检测屏幕宽度</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth<span class="token punctuation">)</span>
    <span class="token comment">// 检测页面的宽度不同而改变颜色</span>
    <span class="token keyword">let</span> num2 <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientWidth
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num2 <span class="token operator">&gt;=</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'skyblue'</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>num2 <span class="token operator">&gt;=</span> <span class="token number">850</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'pink'</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">'green'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_5-三大家族的区别"><a href="#_5-三大家族的区别" class="header-anchor">#</a> 5. 三大家族的区别</h2> <h3 id="_1-offset家族"><a href="#_1-offset家族" class="header-anchor">#</a> 1. offset家族</h3> <ol><li><p>获取元素自身大小：包括自身设置的宽高、padding、border</p></li> <li><p>获取元素距离定位父级的左和上距离 只读属性</p></li></ol> <h3 id="_2-scroll家族-2"><a href="#_2-scroll家族-2" class="header-anchor">#</a> 2. scroll家族</h3> <ol><li><p>获取元素内容的总大小</p></li> <li><p>获取元素向左向上滚出去看不见的距离 可读写属性</p></li></ol> <h3 id="_3-client家族"><a href="#_3-client家族" class="header-anchor">#</a> 3. client家族</h3> <ol><li><p>获取元素可见区域的大小</p></li> <li><p>获取元素左、上边框距离 只读属性</p></li></ol> <h2 id="_6-轮播图案例"><a href="#_6-轮播图案例" class="header-anchor">#</a> 6. 轮播图案例</h2> <ol><li><p>需求①：小图标鼠标经过事件</p></li> <li><p>需求② ：大图片跟随变化</p></li> <li><p>需求③：右侧按钮播放效果</p></li> <li><p>需求④：解决一个BUG</p></li> <li><p>需求⑤：左侧按钮播放效果</p></li> <li><p>需求⑥： 因为左侧按钮和右侧按钮里面有大量相同的操作，可以抽取封装一个函数 common</p></li> <li><p>需求⑦：开启定时器需求</p></li> <li><p>⑧： 鼠标经过停止定时器 （清除定时器） 鼠标离开开启定时器 （开启定时器）</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;main&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;slides&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;active&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;./images/b_01.jpg&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;第1张图的描述信息&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span><span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;./images/b_02.jpg&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;第2张图的描述信息&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;extra&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>第<span class="token number">1</span>张图的描述信息<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;prev&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;javascript:;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>a <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;next&quot;</span> href<span class="token operator">=</span><span class="token string">&quot;javascript:;&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;indicator&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;active&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;images/s_01.jpg&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mask&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;border&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;images/s_02.jpg&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mask&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;border&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">let</span> xl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.indicator li'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> dl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'.slides ul li'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.extra h3'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.next'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> btn1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.prev'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> main <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.main'</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> num1 <span class="token operator">&lt;</span> xl<span class="token punctuation">.</span>length<span class="token punctuation">;</span> num1<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1.鼠标经过小图片变高亮</span>
    xl<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseenter'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.indicator .active'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span>
    <span class="token comment">// 2. 鼠标经过当前小图片后大图片变化</span>
    <span class="token comment">// 利用opacity实现淡入淡出效果</span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.slides .active'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span>
        dl<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span>
    <span class="token comment">// 3. 鼠标经过图片 文字改变</span>
        text<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>num1 <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">张图的描述信息</span><span class="token template-punctuation string">`</span></span>

    <span class="token comment">// 6. 解决Bug 如果鼠标经过后 再次点击播放会乱序</span>
    <span class="token comment">// 让index重新赋值为 当前鼠标经过索引号</span>
        index <span class="token operator">=</span> num1
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 4. 右侧按钮点击事件</span>
<span class="token comment">// 全局变化量变量 不断自增 控制器/给左右按钮同时使用</span>
<span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    index<span class="token operator">++</span>  <span class="token comment">// 变量点击后自增</span>

    <span class="token comment">// 1. 解决点击最后一张后报错 等于10之后index为0</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        index <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 2. // 10 10 余 0</span>
    <span class="token comment">// index = index % 10 </span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 5.左侧按钮点击事件</span>
btn1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    index<span class="token operator">--</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        index <span class="token operator">=</span> <span class="token number">9</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 10 + -1 = 9 % 10 余 1</span>
    <span class="token comment">// index = (10 + index) % xl.length</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 6. 因为左右按钮有大量相同代码 可以封装成函数 然后调用</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 选出 index 大/小图片 排它思想</span>
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.indicator .active'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span>
    xl<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span>
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.slides .active'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span>
    dl<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'active'</span><span class="token punctuation">)</span>
    text<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">第</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">张图的描述信息</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">// 7. 开启轮播定时器</span>
<span class="token keyword">let</span> timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 自动调用右侧按钮点击事件</span>
    btn<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span>

<span class="token comment">// 如果不清除 点击哪个就不会停止</span>
<span class="token comment">// 8.鼠标经过清除定时器</span>
main<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseenter'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearInterval</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 9. 鼠标经过开启定时器</span>
main<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mouseleave'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token comment">// 直接再开启一个定时器 不要重新赋值了</span>
    timer <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        btn<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">800</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><hr> <h4 id="本节单词"><a href="#本节单词" class="header-anchor">#</a> 本节单词:</h4> <ol><li>scroll</li> <li>window</li> <li>load</li> <li>DOMContentLoaded</li> <li>offset</li> <li>client</li> <li>resize</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/e4c383/" class="prev">
        Web APIs第四天
      </a></span> <span class="next"><a href="/pages/5f7fc8/">
        Web APIs第六天
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e901f4e3.js" defer></script><script src="/assets/js/2.980f3844.js" defer></script><script src="/assets/js/49.0970340d.js" defer></script>
  </body>
</html>
