<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Web APIs第六天 | xc-book</title>
    <meta name="generator" content="VuePress 1.9.8">
    
    <meta name="description" content="xc-book">
    
    <link rel="preload" href="/assets/css/0.styles.b94df8a9.css" as="style"><link rel="preload" href="/assets/js/app.e901f4e3.js" as="script"><link rel="preload" href="/assets/js/2.980f3844.js" as="script"><link rel="preload" href="/assets/js/50.aec91ffc.js" as="script"><link rel="prefetch" href="/assets/js/10.6e07c05a.js"><link rel="prefetch" href="/assets/js/11.a3f6963f.js"><link rel="prefetch" href="/assets/js/12.058b9456.js"><link rel="prefetch" href="/assets/js/13.734472eb.js"><link rel="prefetch" href="/assets/js/14.da988918.js"><link rel="prefetch" href="/assets/js/15.58f322d7.js"><link rel="prefetch" href="/assets/js/16.f3568851.js"><link rel="prefetch" href="/assets/js/17.462bad11.js"><link rel="prefetch" href="/assets/js/18.a51cfb89.js"><link rel="prefetch" href="/assets/js/19.033fe3ef.js"><link rel="prefetch" href="/assets/js/20.243572e0.js"><link rel="prefetch" href="/assets/js/21.e1607606.js"><link rel="prefetch" href="/assets/js/22.7ac919e4.js"><link rel="prefetch" href="/assets/js/23.3ad01538.js"><link rel="prefetch" href="/assets/js/24.284d736d.js"><link rel="prefetch" href="/assets/js/25.3828d620.js"><link rel="prefetch" href="/assets/js/26.1d965fef.js"><link rel="prefetch" href="/assets/js/27.b66299cd.js"><link rel="prefetch" href="/assets/js/28.a51756b9.js"><link rel="prefetch" href="/assets/js/29.ef7663f7.js"><link rel="prefetch" href="/assets/js/3.16755e44.js"><link rel="prefetch" href="/assets/js/30.437b3d8f.js"><link rel="prefetch" href="/assets/js/31.81c131bc.js"><link rel="prefetch" href="/assets/js/32.716395c3.js"><link rel="prefetch" href="/assets/js/33.75b4fcc5.js"><link rel="prefetch" href="/assets/js/34.8661e50a.js"><link rel="prefetch" href="/assets/js/35.baadd8b6.js"><link rel="prefetch" href="/assets/js/36.1fc61857.js"><link rel="prefetch" href="/assets/js/37.ca9b7c0e.js"><link rel="prefetch" href="/assets/js/38.df39ca9a.js"><link rel="prefetch" href="/assets/js/39.8511272c.js"><link rel="prefetch" href="/assets/js/4.9d085cb1.js"><link rel="prefetch" href="/assets/js/40.7e91ccf9.js"><link rel="prefetch" href="/assets/js/41.2fde20cf.js"><link rel="prefetch" href="/assets/js/42.112a8cdb.js"><link rel="prefetch" href="/assets/js/43.1c62f70c.js"><link rel="prefetch" href="/assets/js/44.f4acd8ed.js"><link rel="prefetch" href="/assets/js/45.5f08afb8.js"><link rel="prefetch" href="/assets/js/46.6ddeee37.js"><link rel="prefetch" href="/assets/js/47.6f21f48a.js"><link rel="prefetch" href="/assets/js/48.87d020d3.js"><link rel="prefetch" href="/assets/js/49.0970340d.js"><link rel="prefetch" href="/assets/js/5.2f24edab.js"><link rel="prefetch" href="/assets/js/51.33cbf809.js"><link rel="prefetch" href="/assets/js/52.6bf94a4a.js"><link rel="prefetch" href="/assets/js/53.79a765f6.js"><link rel="prefetch" href="/assets/js/54.d7a545b1.js"><link rel="prefetch" href="/assets/js/55.207e1671.js"><link rel="prefetch" href="/assets/js/56.7fc795a4.js"><link rel="prefetch" href="/assets/js/57.affabd98.js"><link rel="prefetch" href="/assets/js/58.4a357210.js"><link rel="prefetch" href="/assets/js/59.abd10466.js"><link rel="prefetch" href="/assets/js/6.4d41e4ec.js"><link rel="prefetch" href="/assets/js/60.ef6061f0.js"><link rel="prefetch" href="/assets/js/61.16e8201b.js"><link rel="prefetch" href="/assets/js/62.c6b2565e.js"><link rel="prefetch" href="/assets/js/63.a770d4b2.js"><link rel="prefetch" href="/assets/js/64.63bc2ab9.js"><link rel="prefetch" href="/assets/js/65.9038fc48.js"><link rel="prefetch" href="/assets/js/66.026d3b56.js"><link rel="prefetch" href="/assets/js/67.5f66cf24.js"><link rel="prefetch" href="/assets/js/68.b2342581.js"><link rel="prefetch" href="/assets/js/69.6d6a85a4.js"><link rel="prefetch" href="/assets/js/7.27e8276c.js"><link rel="prefetch" href="/assets/js/70.83538523.js"><link rel="prefetch" href="/assets/js/71.2e415317.js"><link rel="prefetch" href="/assets/js/72.7b999509.js"><link rel="prefetch" href="/assets/js/73.f49f94fc.js"><link rel="prefetch" href="/assets/js/74.4c991c4a.js"><link rel="prefetch" href="/assets/js/75.ab0bdeea.js"><link rel="prefetch" href="/assets/js/76.8721af83.js"><link rel="prefetch" href="/assets/js/77.d571aa48.js"><link rel="prefetch" href="/assets/js/78.cfc68ac2.js"><link rel="prefetch" href="/assets/js/79.d8f154f6.js"><link rel="prefetch" href="/assets/js/8.b3adff01.js"><link rel="prefetch" href="/assets/js/80.1e804dbc.js"><link rel="prefetch" href="/assets/js/81.773e8acf.js"><link rel="prefetch" href="/assets/js/82.746f1ccb.js"><link rel="prefetch" href="/assets/js/83.4eceeb06.js"><link rel="prefetch" href="/assets/js/84.1390b896.js"><link rel="prefetch" href="/assets/js/85.8d3721e4.js"><link rel="prefetch" href="/assets/js/86.f3bc2a75.js"><link rel="prefetch" href="/assets/js/87.49c778a4.js"><link rel="prefetch" href="/assets/js/88.a4df6651.js"><link rel="prefetch" href="/assets/js/89.458ba699.js"><link rel="prefetch" href="/assets/js/9.ca154568.js"><link rel="prefetch" href="/assets/js/90.d1b45d47.js"><link rel="prefetch" href="/assets/js/91.aa28b80c.js"><link rel="prefetch" href="/assets/js/92.65928058.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b94df8a9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">xc-book</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/HTML/docs.html" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/CSS/docs.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/JS/docs.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/Ajax笔记/docs.html" class="nav-link">
  Ajax笔记
</a></div><div class="nav-item"><a href="/Vue前置基础/docs.html" class="nav-link">
  Vue前置基础
</a></div><div class="nav-item"><a href="/Vue笔记/docs.html" class="nav-link">
  Vue笔记
</a></div><div class="nav-item"><a href="/TS笔记/docs.html" class="nav-link">
  TS笔记
</a></div><div class="nav-item"><a href="/Vue笔记/面试题.html" class="nav-link">
  面试题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.webxc.eu.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/web-xc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.webxc.eu.org/4/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HTML项目
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="qqhttps://tenapi.cn/qqzlk/?qq=2848141597" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://npm.elemecdn.com/webxc@1.0.0/lxfs/wechat.jpg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WeChat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/HTML/docs.html" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/CSS/docs.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/JS/docs.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/Ajax笔记/docs.html" class="nav-link">
  Ajax笔记
</a></div><div class="nav-item"><a href="/Vue前置基础/docs.html" class="nav-link">
  Vue前置基础
</a></div><div class="nav-item"><a href="/Vue笔记/docs.html" class="nav-link">
  Vue笔记
</a></div><div class="nav-item"><a href="/TS笔记/docs.html" class="nav-link">
  TS笔记
</a></div><div class="nav-item"><a href="/Vue笔记/面试题.html" class="nav-link">
  面试题
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.webxc.eu.org/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/web-xc" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.webxc.eu.org/4/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  HTML项目
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="qqhttps://tenapi.cn/qqzlk/?qq=2848141597" target="_blank" rel="noopener noreferrer" class="nav-link external">
  QQ
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://npm.elemecdn.com/webxc@1.0.0/lxfs/wechat.jpg" target="_blank" rel="noopener noreferrer" class="nav-link external">
  WeChat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><a href="/Vue笔记/docs.html" class="sidebar-heading clickable"><span>Vue笔记</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/Vue前置基础/docs.html" class="sidebar-heading clickable"><span>Vue前置基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/TS笔记/docs.html" class="sidebar-heading clickable"><span>Typescript笔记</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/Ajax笔记/docs.html" class="sidebar-heading clickable"><span>Ajax笔记</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JS/docs3.html" class="sidebar-heading clickable"><span>JS进阶和模块化</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JS/docs2.html" class="sidebar-heading clickable open"><span>Web APIs笔记</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/b9f720/" class="sidebar-link">Web APIs第一天</a></li><li><a href="/pages/5282a1/" class="sidebar-link">Web APIs第二天</a></li><li><a href="/pages/3f5218/" class="sidebar-link">Web APIs第三天</a></li><li><a href="/pages/e4c383/" class="sidebar-link">Web APIs第四天</a></li><li><a href="/pages/0a8dda/" class="sidebar-link">Web APIs第五天</a></li><li><a href="/pages/5f7fc8/" aria-current="page" class="active sidebar-link">Web APIs第六天</a></li><li><a href="/pages/a27187/" class="sidebar-link">Web APIs第七天</a></li><li><a href="/pages/292c25/" class="sidebar-link">WebAPIs学习笔记</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/JS/docs1.html" class="sidebar-heading clickable"><span>JS基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/CSS/docs.html" class="sidebar-heading clickable"><span>CSS移动开发</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/CSS/docs.html" class="sidebar-heading clickable"><span>CSS布局</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/HTML/docs.html" class="sidebar-heading clickable"><span>HTML基础</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/高级HTML/docs.html" class="sidebar-heading clickable"><span>高级HTML+CSS</span> <span class="arrow right"></span></a> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="bom-操作浏览器"><a href="#bom-操作浏览器" class="header-anchor">#</a> BOM- 操作浏览器</h3> <h2 id="_1-js执行机制"><a href="#_1-js执行机制" class="header-anchor">#</a> 1. JS执行机制</h2> <ol><li>JavaScript 语言的一大特点就是单线程，也就是说，同一个时间只能做一件事。这是因为 Javascript 这 门脚本语言诞生的使命所致——JavaScript 是为处理页面中用户的交互，以及操作 DOM 而诞生的。比 如我们对某个 DOM 元素进行添加和删除操作，不能同时进行。 应该先进行添加，之后再删除</li> <li>单线程就意味着，所有任务需要排队，前一个任务结束，才会执行后一个任务。这样所导致的问 题是： 如果 JS 执行的时间过长，这样就会造成页面的渲染不连贯，导致页面渲染加载阻塞的感觉</li> <li>为了解决这个问题，利用多核 CPU 的计算能力，HTML5 提出 Web Worker 标准，允许 JavaScript 脚本创建多个线程。于是，JS 中出现了同步和异步</li></ol> <h3 id="_1-同步"><a href="#_1-同步" class="header-anchor">#</a> 1. 同步</h3> <ol><li>前一个任务结束后再执行后一个任务，程序的执行顺序与任务的排列顺序是一致的、同步的。比如做饭的同步 做法：我们要烧水煮饭，等水开了（10分钟之后），再去切菜，炒菜</li> <li>同步任务都在主线程上执行，形成一个执行栈</li></ol> <h3 id="_2-异步"><a href="#_2-异步" class="header-anchor">#</a> 2. 异步</h3> <ol><li>你在做一件事情时，因为这件事情会花费很长时间，在做这件事的同时，你还可以去处理其他事 情。比如做饭的异步做法，我们在烧水的同时，利用这10分钟，去切菜，炒菜</li> <li>JS 的异步是通过回调函数实现的</li></ol> <h5 id="一般而言-异步任务有以下三种类型"><a href="#一般而言-异步任务有以下三种类型" class="header-anchor">#</a> 一般而言，异步任务有以下三种类型:</h5> <ol><li>普通事件, 如 click、resize 等</li> <li>资源加载, 如 load、error 等</li> <li>定时器, 包括 setInterval、setTimeout 等 异步任务相关添加到任务队列中(任务队列也称为消息队列)</li> <li>他们的本质区别： 这条流水线上各个流程的执行顺序不同</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. JS执行机制 同步 异步</span>
<span class="token comment">// 同步: 执行栈 在主线程上执行</span>
<span class="token comment">// 异步: 任务/消息队列 通过回调函数实现</span>
<span class="token comment">// 1. 先执行栈的同步任务</span>
<span class="token comment">// 2. 异步任务放入任务队列中</span>
<span class="token comment">// 3. 同步任务执行完 系统按次序读取异步任务 进入执行栈执行</span>
<span class="token comment">// 主线程重复获得任务、执行任务、再获取任务、再执行 这种机制称事件循环event loop</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">44</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">33</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
</code></pre></div><img src="https://cdn1.tianli0.top/gh/web-xc/iMG/postss/js执行机制.jpg" style="zoom:25%;"> <h2 id="_2-js执行过程"><a href="#_2-js执行过程" class="header-anchor">#</a> 2. JS执行过程</h2> <ol><li>先执行执行栈中的同步任务</li> <li>异步任务放入任务队列中</li> <li>一旦执行栈中的所有同步任务执行完毕, 系统就会按次序读取任务队列中的异步任务，于是被读取的异步任务 结束等待状态，进入执行栈，开始执行</li></ol> <img src="https://cdn1.tianli0.top/gh/web-xc/iMG/postss/js执行机制过程.jpg" style="zoom:33%;"> <img src="https://cdn1.tianli0.top/gh/web-xc/iMG/postss/js执行机制图解.jpg" style="zoom:33%;"> <blockquote><p>由于主线程不断的重复获得任务、执行任务、再获取任务、再执行，所以这种机制被称为事件循环event loop</p></blockquote> <h2 id="_3-window对象"><a href="#_3-window对象" class="header-anchor">#</a> 3. Window对象</h2> <ol><li>BOM(Browser Object Model ) 是浏览器对象模型</li> <li>window 是浏览器内置中的全局对象，我们所学习的所有 Web APIs 的知识内容都是基于 window 对象实现的window 对象下包含了 navigator、location、document、history、screen 5个属性, 即所谓的 BOM(浏览器对象模 型)</li> <li>document 是实现 DOM 的基础，它其实是依附于 window 的属性</li> <li>注：依附于 window 对象的所有属性和方法，使用时可以省略 window</li></ol> <img src="https://cdn1.tianli0.top/gh/web-xc/iMG/postss/bom对象.jpg" style="zoom:33%;"> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// window是最大的对象 浏览器对象模型</span>
<span class="token comment">// document是DOM最大对象</span>
window<span class="token punctuation">.</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>   
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
window<span class="token punctuation">.</span><span class="token function">prompt</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span>
</code></pre></div><h3 id="_1-定时器-延时函数"><a href="#_1-定时器-延时函数" class="header-anchor">#</a> 1. 定时器-延时函数</h3> <ol><li>JavaScript 内置的一个用来让代码延迟执行的函数，叫 setTimeout</li> <li>setTimeout 仅仅只执行一次，所以可以理解为就是把一段代码延迟执行, 平时省略window</li> <li>结合递归函数可以使用 setTimeout 实现 setInterval 一样的功能</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. 延迟对象 仅执行一次 就没了</span>
<span class="token keyword">let</span> time <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'爆炸了'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span>
<span class="token comment">// 2. 清除延迟函数 点击按钮后清除</span>
<span class="token keyword">let</span> num1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span>
num1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">clearTimeout</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h5 id="_1-两种定时器对比"><a href="#_1-两种定时器对比" class="header-anchor">#</a> 1. 两种定时器对比:</h5> <ol><li>setInterval 的特征是重复执行，首次执行会延时</li> <li>setTimeout 的特征是延时执行，只执行 1 次</li> <li>setTimeout 结合递归函数，能模拟 setInterval 重复执行</li> <li>clearTimeout 清除由 setTimeout 创建的定时任务</li></ol> <h5 id="_2-5秒钟之后消失的广告"><a href="#_2-5秒钟之后消失的广告" class="header-anchor">#</a> 2. 5秒钟之后消失的广告</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 2秒后自动消失广告</span>
<span class="token keyword">let</span> num2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'img'</span><span class="token punctuation">)</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num2<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">'none'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token comment">// 4. 递归函数: 自己调用自己</span>
<span class="token comment">// 容易死递归 要加上退出条件</span>
<span class="token keyword">let</span> num3 <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num3<span class="token operator">++</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">// 如果要退出 得加上判断条件</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num3 <span class="token operator">&gt;=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 自己调自己</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 5. 利用递归实现/模拟 setInterval</span>
<span class="token keyword">let</span> num4 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num4<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span>fn1<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 6. 两个定时器对比</span>
<span class="token comment">// 间歇函数 重复执行 首次延迟执行</span>
<span class="token comment">// 延迟函数 只执行1次</span>
</code></pre></div><h3 id="_2-location对象"><a href="#_2-location对象" class="header-anchor">#</a> 2.  location对象</h3> <ol><li>location 的数据类型是对象，它拆分并保存了 URL 地址的各个组成部分</li></ol> <h3 id="_1-href-属性获取完整的-url-地址-对其赋值时用于地址的跳转"><a href="#_1-href-属性获取完整的-url-地址-对其赋值时用于地址的跳转" class="header-anchor">#</a> 1. href 属性获取完整的 URL 地址，对其赋值时用于地址的跳转</h3> <ol><li>href 属性获取完整的 URL 地址，对其赋值时用于地址的跳转</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. location.href 得到url地址 可读写 可利用js跳转页面</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>href<span class="token punctuation">)</span>
<span class="token comment">// location.href = 'http://baidu.com'</span>
</code></pre></div><h5 id="_5秒钟之后跳转的页面"><a href="#_5秒钟之后跳转的页面" class="header-anchor">#</a> 5秒钟之后跳转的页面</h5> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 2. 3秒后跳转页面</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;&quot;</span><span class="token operator">&gt;</span><span class="token number">3</span>秒后跳转百度页面<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token keyword">let</span> num1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> num2 <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">let</span> num3 <span class="token operator">=</span> <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    num2<span class="token operator">--</span>
    num1<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>num2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">秒后跳转百度页面</span><span class="token template-punctuation string">`</span></span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num2 <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">clearInterval</span><span class="token punctuation">(</span>num3<span class="token punctuation">)</span>
        location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'http://baidu.com'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-search-属性获取地址中携带的参数-符号-后面部分"><a href="#_2-search-属性获取地址中携带的参数-符号-后面部分" class="header-anchor">#</a> 2. search 属性获取地址中携带的参数，符号 ？后面部分</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">3</span><span class="token punctuation">.</span>location<span class="token punctuation">.</span>search 属性 <span class="token operator">--</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>form action<span class="token operator">=</span><span class="token string">&quot;4.JS执行机制.html&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> name<span class="token operator">=</span><span class="token string">&quot;username&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>提交<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span>
<span class="token comment">// 3. location.search 属性 ?username=abd</span>
document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>search<span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-hash-属性获取地址中的啥希值-符号-后面部分"><a href="#_3-hash-属性获取地址中的啥希值-符号-后面部分" class="header-anchor">#</a> 3. hash 属性获取地址中的啥希值，符号 # 后面部分</h3> <blockquote><p>后期vue路由的铺垫，经常用于不刷新页面，显示不同页面，比如 网易云音乐</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 4. location.hash # 属性 vue路由</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#one&quot;</span><span class="token operator">&gt;</span>第一个<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;#two&quot;</span><span class="token operator">&gt;</span>第二个<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
<span class="token keyword">let</span> num4 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-reload-方法用来刷新当前页面-传入参数-true-时表示强制刷新"><a href="#_4-reload-方法用来刷新当前页面-传入参数-true-时表示强制刷新" class="header-anchor">#</a> 4. reload 方法用来刷新当前页面，传入参数 true 时表示强制刷新</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 5. location.reload 属性 方法</span>
button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;btn&quot;</span><span class="token operator">&gt;</span>强制刷新<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token keyword">let</span> num5 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.btn'</span><span class="token punctuation">)</span>
num5<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 强制刷新 默认为 true</span>
    location<span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-navigator对象"><a href="#_3-navigator对象" class="header-anchor">#</a> 3. navigator对象</h3> <ol><li>navigator的数据类型是对象，该对象下记录了浏览器自身的相关信息</li> <li>通过 userAgent 检测浏览器的版本及平台</li></ol> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>navigator<span class="token punctuation">)</span>
<span class="token comment">// 1.检测 userAgent 浏览器信息</span>
<span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> userAgent <span class="token operator">=</span> navigator<span class="token punctuation">.</span>userAgent
<span class="token comment">// 2.验证是否为Android或iPhone</span>
    <span class="token keyword">const</span> android <span class="token operator">=</span> userAgent<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(Android);?[\s\/]+([\d.]+)?</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> iphone <span class="token operator">=</span> userAgent<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(iPhone\sOS)\s([\d_]+)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span>
<span class="token comment">// 3.如果是Android或iPhone，则跳转至移动站点</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>android <span class="token operator">||</span> iphone<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">'http://baidu.com'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_4-histroy对象"><a href="#_4-histroy对象" class="header-anchor">#</a> 4. histroy对象</h3> <ol><li>history 的数据类型是对象，该对象与浏览器地址栏的操作相对应，如前进、后退、历史记录等</li> <li>history 对象一般在实际开发中比较少用，但是会在一些 OA 办公系统中见到</li></ol> <table><thead><tr><th style="text-align:left;">使用方法</th> <th style="text-align:left;">作用</th></tr></thead> <tbody><tr><td style="text-align:left;">back()</td> <td style="text-align:left;">可以后退</td></tr> <tr><td style="text-align:left;">forward()</td> <td style="text-align:left;">前进</td></tr> <tr><td style="text-align:left;">go(参数)</td> <td style="text-align:left;">前进后退, 1是前进页面, -1是后退页面</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>前进<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>后退<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token comment">// 1. history.forward()</span>
<span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button:first-child'</span><span class="token punctuation">)</span>
btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// history.forward()</span>
    history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// 2. history.back()</span>
<span class="token keyword">let</span> btn1 <span class="token operator">=</span> btn<span class="token punctuation">.</span>nextElementSibling
btn1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// history.back()</span>
    history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_4-本地存储"><a href="#_4-本地存储" class="header-anchor">#</a> 4. 本地存储</h2> <ol><li>随着互联网的快速发展，基于网页的应用越来越普遍，同时也变的越来越复杂，为了满足各种各样的需求，会经常性在 本地存储大量的数据，HTML5规范提出了相关解决方案</li> <li>数据存储在用户浏览器中</li> <li>设置、读取方便、甚至页面刷新不丢失数据</li> <li>容量较大，sessionStorage和localStorage约 5M 左右</li></ol> <h3 id="_1-localstorage"><a href="#_1-localstorage" class="header-anchor">#</a> 1. localStorage</h3> <ol><li>生命周期永久生效，除非手动删除 否则关闭页面也会存在</li> <li>可以多窗口 (页面) 共享 (同一浏览器可以共享)</li> <li>以键值对的形式存储使用</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 1. 存储数据 localStorage.setItem('键', '值')</span>
localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'csy'</span><span class="token punctuation">)</span>
<span class="token comment">// 2. 获取数据 getItem('键')</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 3. 删除数据 removeItem('值')</span>
localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-存储复杂数据类型存储"><a href="#_2-存储复杂数据类型存储" class="header-anchor">#</a> 2. 存储复杂数据类型存储</h3> <p>本地只能存储字符串,无法存储复杂数据类型.需要将复杂数据类型转换成JSON字符串,在存储到本地</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 存储复杂数据类型 引用数据类型</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">uanme</span><span class="token operator">:</span> <span class="token string">'小城'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
    <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">'男'</span>
<span class="token punctuation">}</span>
<span class="token comment">// JSON 格式 属性和值 双引号包含</span>
<span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;uanme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;小城&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;age&quot;</span><span class="token operator">:</span> <span class="token string">&quot;18&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;sex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;男&quot;</span>
<span class="token punctuation">}</span>
<span class="token number">1.</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>复杂数据类型<span class="token punctuation">)</span>
<span class="token number">2.</span> 将复杂数据转换成<span class="token constant">JSON</span>字符串 存储 本地存储中
<span class="token number">3.</span> localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'obj'</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span> 是对象 但不知道什么名
<span class="token number">4.</span> 复杂数据类型转换为 json字符串 进行存储
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'obj'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'obj'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token number">1.</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token constant">JSON</span>字符串<span class="token punctuation">)</span>
<span class="token number">2.</span> 将<span class="token constant">JSON</span>字符串转换成对象 取出 时候使用
<span class="token number">3.</span> 取数据 将 json字符串 转换为 对象
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'obj'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-sessionstorage-了解"><a href="#_3-sessionstorage-了解" class="header-anchor">#</a> 3. sessionStorage（了解）</h3> <ol><li>生命周期为关闭浏览器窗口</li> <li>在同一个窗口(页面)下数据可以共享</li> <li>以键值对的形式存储使用</li> <li>用法跟localStorage 基本相同</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 生命周期为关闭浏览器窗口 (了解)</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'uname'</span><span class="token punctuation">,</span> <span class="token string">'csy'</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_5-自定义属性"><a href="#_5-自定义属性" class="header-anchor">#</a> 5. 自定义属性</h2> <ol><li>固有属性: 标签天生自带的属性 比如class id title等, 可以直接使用点语法操作</li> <li>由程序员自己添加的属性,在DOM对象中找不到, 无法使用点语法操作,必须使用专门的API</li></ol> <ul><li>getAttribute('属性名') // 获取自定义属性</li> <li>setAttribute('属性名', '属性值') // 设置自定义属性</li> <li>removeAttribute('属性名') // 删除自定义属性</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 自带的属性id: 直接用点语法操作</span>
<span class="token comment">// 由程序员自己添加属性 在DOM对象中找不到 无法使用点语法操作 须使用专门API</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box&quot;</span> data<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">&quot;1&quot;</span> data<span class="token operator">-</span>id1<span class="token operator">=</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token keyword">let</span> num1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.box'</span><span class="token punctuation">)</span>
<span class="token comment">// 1. 设置自定义属性</span>
num1<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'myid'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span>
<span class="token comment">// 2. 获取自定义属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">'myid'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 3. 删除自定义属性</span>
num1<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span><span class="token string">'myid'</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="data-自定义属性"><a href="#data-自定义属性" class="header-anchor">#</a> data-自定义属性:</h3> <ol><li>传统的自定义属性没有专门的定义规则,开发者随意定值,不够规范,所以在html5中推出来了专门的data-自定义属性 在 标签上一律以data-开头</li> <li>在DOM对象上一律以dataset对象方式获取</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// dataset对象 不能随意定值 需data-id规范 取值是数组</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;box&quot;</span> data<span class="token operator">-</span>id<span class="token operator">=</span><span class="token string">&quot;1&quot;</span> data<span class="token operator">-</span>id1<span class="token operator">=</span><span class="token string">&quot;2&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>id<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num1<span class="token punctuation">.</span>dataset<span class="token punctuation">)</span>
</code></pre></div><h2 id="_5-swiper-插件"><a href="#_5-swiper-插件" class="header-anchor">#</a> 5. swiper 插件</h2> <ol><li>插件: 就是别人写好的一些代码,我们只需要复制对应的代码,就可以直接实现对应的效果</li> <li>熟悉官网,了解这个插件可以完成什么需求 https://www.swiper.com.cn</li> <li>看在线演示,找到符合自己需求的demo https://www.swiper.com.cn/demo/index.html</li> <li>查看基本使用流程 https://www.swiper.com.cn/usage/index.html</li> <li>查看APi文档,去配置自己的插件 https://www.swiper.com.cn/api/index.html</li> <li>注意: 多个swiper同时使用的时候, 类名需要注意区分</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> swiper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Swiper</span><span class="token punctuation">(</span><span class="token string">&quot;.Swiper&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">slidesPerView</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 等分播放</span>
    <span class="token literal-property property">spaceBetween</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// 背景过渡</span>
    <span class="token literal-property property">loop</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否循环</span>
    <span class="token literal-property property">pagination</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 小圆点显示/隐藏</span>
        <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">&quot;.swiper-pagination&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">clickable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 小圆点是否能点</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">navigation</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 左右按钮</span>
        <span class="token literal-property property">nextEl</span><span class="token operator">:</span> <span class="token string">&quot;.swiper-button-next&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">prevEl</span><span class="token operator">:</span> <span class="token string">&quot;.swiper-button-prev&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">autoplay</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 自动切换</span>
        <span class="token literal-property property">delay</span><span class="token operator">:</span> <span class="token number">400</span><span class="token punctuation">,</span> <span class="token comment">// 间隔时间</span>
        <span class="token literal-property property">stopOnLastSlide</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 到最后一个停止切换 loop模式下无效</span>
        <span class="token literal-property property">disableOnInteraction</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 拖动/点击后 停止自动切换</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">keyboard</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 键盘左右键控制</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_6-综合案例"><a href="#_6-综合案例" class="header-anchor">#</a> 6. 综合案例</h2> <div class="language-js extra-class"><pre class="language-js"><code>需求①：读取本地存储数据（封装函数）
如果本地存储有数据，则返回 <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 之后的对象
如果本地存储没有数据，则默认写入三条数据，注意存储的利用<span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 存 储<span class="token constant">JSON</span> 格式的数据
需求②：渲染模块
先读取本地存储数据，然后渲染
需求③：添加模块
注意，先取的最新的本地存储数据，然后追加
新增了数据，要把新数据存储到本地存储别，忘记转换
需求④：删除模块
注意，先取的最新的本地存储数据，然后追加
新增了数据，要把新数据存储到本地存储别忘记转换
<span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>新增学员<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;info&quot;</span><span class="token operator">&gt;</span>
  姓名：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uname&quot;</span><span class="token operator">&gt;</span>
  年龄：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;age&quot;</span><span class="token operator">&gt;</span>
  <span class="token literal-property property">性别</span><span class="token operator">:</span> <span class="token operator">&lt;</span>select name<span class="token operator">=</span><span class="token string">&quot;gender&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;gender&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;男&quot;</span><span class="token operator">&gt;</span>男<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;女&quot;</span><span class="token operator">&gt;</span>女<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
  薪资：<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;salary&quot;</span><span class="token operator">&gt;</span>
  就业城市：<span class="token operator">&lt;</span>select name<span class="token operator">=</span><span class="token string">&quot;city&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;city&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;北京&quot;</span><span class="token operator">&gt;</span>北京<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;上海&quot;</span><span class="token operator">&gt;</span>上海<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;广州&quot;</span><span class="token operator">&gt;</span>广州<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;深圳&quot;</span><span class="token operator">&gt;</span>深圳<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>option value<span class="token operator">=</span><span class="token string">&quot;曹县&quot;</span><span class="token operator">&gt;</span>曹县<span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;add&quot;</span><span class="token operator">&gt;</span>录入<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>就业榜<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>table<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>thead<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>学号<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>姓名<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>年龄<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>性别<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>薪资<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>就业城市<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>操作<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>tbody<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 1. 读取本地存储数据 封装函数 </span>
  <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> num1 <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>num1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果本地存储有数据 则返回 JSON.parse 对象</span>
      <span class="token keyword">return</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>num1<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 如果没有则默认写入三条数据 利用stringify 存储</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">stuid</span><span class="token operator">:</span> <span class="token number">1001</span><span class="token punctuation">,</span> <span class="token literal-property property">uname</span><span class="token operator">:</span> <span class="token string">'欧阳霸天'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token literal-property property">salary</span><span class="token operator">:</span> <span class="token string">'20000'</span><span class="token punctuation">,</span> <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">'上海'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">stuid</span><span class="token operator">:</span> <span class="token number">1002</span><span class="token punctuation">,</span> <span class="token literal-property property">uname</span><span class="token operator">:</span> <span class="token string">'令狐霸天'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token literal-property property">salary</span><span class="token operator">:</span> <span class="token string">'30000'</span><span class="token punctuation">,</span> <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">'北京'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> <span class="token literal-property property">stuid</span><span class="token operator">:</span> <span class="token number">1003</span><span class="token punctuation">,</span> <span class="token literal-property property">uname</span><span class="token operator">:</span> <span class="token string">'诸葛霸天'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'男'</span><span class="token punctuation">,</span> <span class="token literal-property property">salary</span><span class="token operator">:</span> <span class="token string">'2000'</span><span class="token punctuation">,</span> <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">'北京'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token keyword">let</span> tbody <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'tbody'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.add'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> uname <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.uname'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> age <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.age'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> gender <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.gender'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> salary <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.salary'</span><span class="token punctuation">)</span>
  <span class="token keyword">let</span> city <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.city'</span><span class="token punctuation">)</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 2. 先读取本地存储数据 再渲染</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    tbody<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> num1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> num1 <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> num1<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> tr <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'tr'</span><span class="token punctuation">)</span>
      tr<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
          &lt;tr&gt;
            &lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arr<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token punctuation">.</span>stuid<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;
            &lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arr<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token punctuation">.</span>uname<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;
            &lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arr<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;
            &lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arr<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token punctuation">.</span>gender<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;
            &lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arr<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token punctuation">.</span>salary<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;
            &lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>arr<span class="token punctuation">[</span>num1<span class="token punctuation">]</span><span class="token punctuation">.</span>city<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;
            &lt;td&gt;&lt;a href=&quot;javascript:&quot; id=&quot;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>num1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&quot;&gt;删除&lt;/a&gt;&lt;/td&gt;
          &lt;/tr&gt;</span><span class="token template-punctuation string">`</span></span>
      tbody<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tr<span class="token punctuation">)</span>
      uname<span class="token punctuation">.</span>value <span class="token operator">=</span> age<span class="token punctuation">.</span>value <span class="token operator">=</span> salary<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">''</span>
      gender<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'男'</span>
      city<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">'北京'</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 3. 先读取本地存储数据 再渲染</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">stuid</span><span class="token operator">:</span> arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>stuid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> 
      <span class="token literal-property property">uname</span><span class="token operator">:</span> uname<span class="token punctuation">.</span>value<span class="token punctuation">,</span> 
      <span class="token literal-property property">age</span><span class="token operator">:</span> age<span class="token punctuation">.</span>value<span class="token punctuation">,</span> 
      <span class="token literal-property property">gender</span><span class="token operator">:</span> gender<span class="token punctuation">.</span>value<span class="token punctuation">,</span> 
      <span class="token literal-property property">salary</span><span class="token operator">:</span> salary<span class="token punctuation">.</span>value<span class="token punctuation">,</span> 
      <span class="token literal-property property">city</span><span class="token operator">:</span> city<span class="token punctuation">.</span>value
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">// 4. 存储到本地</span>
    localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  tbody<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 5. 先读取本地数据 再渲染</span>
    <span class="token keyword">let</span> arr <span class="token operator">=</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>tagName <span class="token operator">==</span> <span class="token string">'A'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 7. 第一条数据不能删除 添加判断</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'此条数据不能被删除'</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      arr<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token comment">// 6. 存储到本地</span>
      localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><hr> <h4 id="本节单词"><a href="#本节单词" class="header-anchor">#</a> 本节单词:</h4> <ol><li><p>localStorage</p></li> <li><p>setItem</p></li> <li><p>getItem</p></li> <li><p>stringify</p></li> <li><p>parse</p></li> <li><p>removeItem</p></li> <li><p>setTimeout</p></li> <li><p>location</p></li> <li><p>href</p></li> <li><p>search</p></li> <li><p>hash</p></li> <li><p>reload</p></li> <li><p>setAttribute</p></li> <li><p>getAttribute</p></li> <li><p>removeAttribute</p></li> <li><p>dataset</p></li> <li><p>histroy</p></li> <li><p>forward</p></li> <li><p>back</p></li> <li><p>go</p></li> <li><p>json</p></li> <li><p>window</p></li> <li><p>navigator</p></li> <li><p>sessionStorage</p></li> <li><p>Browser Object Model</p></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/0a8dda/" class="prev">
        Web APIs第五天
      </a></span> <span class="next"><a href="/pages/a27187/">
        Web APIs第七天
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.e901f4e3.js" defer></script><script src="/assets/js/2.980f3844.js" defer></script><script src="/assets/js/50.aec91ffc.js" defer></script>
  </body>
</html>
